(this.webpackJsonpstraight5=this.webpackJsonpstraight5||[]).push([[0],[,,,,,,,function(e,t,r){"use strict";r.r(t),r.d(t,"ActionType",(function(){return a})),r.d(t,"AppMode",(function(){return c})),r.d(t,"DrawType",(function(){return s})),r.d(t,"MoveState",(function(){return n})),r.d(t,"TokenType",(function(){return i}));var a={PASS:"PASS",SWAP:"SWAP",CHANGE_TURN:"CHANGE_TURN",TURN_FACE_UP:"TURN_FACE_UP",CLAIM_TOKEN:"CLAIM_TOKEN",REPLACE_CARD:"REPLACE_CARD"},c={START_STATE:"START_STATE",GAME:"GAME",PLAYER_WIN:"PLAYER_WIN"},s={DECK:"DECK",DISCARD:"DISCARD"},n={START_STATE:"START_STATE",CARD_DRAWN:"CARD_DRAWN",DISCARD_CHOSEN:"DISCARD_CHOSEN",TURN_FACE_UP_CHOSEN:"TURN_FACE_UP_CHOSEN",TURN_FACE_UP_IN_PROGRESS:"TURN_FACE_UP_IN_PROGRESS",SWAP_CHOSEN:"SWAP_CHOSEN",SWAP_IN_PROGRESS:"SWAP_IN_PROGRESS",PRE_END_STATE:"PRE_END_STATE",CLAIMING_TOKEN:"CLAIMING_TOKEN"},i={THREE_IN_A_ROW:"THREE_IN_A_ROW",FOUR_IN_A_ROW:"FOUR_IN_A_ROW",FIVE_IN_A_ROW:"FIVE_IN_A_ROW",THREE_OF_A_KIND:"THREE_OF_A_KIND",FULL_HOUSE:"FULL_HOUSE"}},,,function(e,t,r){"use strict";r.r(t),r.d(t,"shuffleArray",(function(){return c})),r.d(t,"getPlayerTextForMoveState",(function(){return s}));var a=r(7).MoveState;function c(e){for(var t=e.length-1;t>0;t--){var r=Math.floor(Math.random()*(t+1)),a=[e[r],e[t]];e[t]=a[0],e[r]=a[1]}return e}function s(e,t){switch(e){case a.START_STATE:return"Please draw a card from Deck or Discard";case a.CARD_DRAWN:return"Replace card in your hand or choose a discard option";case a.TURN_FACE_UP_CHOSEN:return"Select the first card to turn face up";case a.TURN_FACE_UP_IN_PROGRESS:return"Select the second card to turn face up or pass";case a.SWAP_CHOSEN:return"Select the first card you'd like  to swap";case a.SWAP_IN_PROGRESS:return"Selected "+t+". Please select a second card to swap";case a.PRE_END_STATE:return"Please select a token to claim or pass";case a.CLAIMING_TOKEN:return"Please select the first card of your run";case a.DISCARD_CHOSEN:return"Please select the discard pile you would like to discard the card to";default:return"UNKONWN STATE DETECTED"}}},,,,,,,function(e,t,r){},function(e,t,r){},function(e,t,r){},,function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){"use strict";r.r(t),r.d(t,"GameService",(function(){return o}));var a=r(12),c=r(2),s=r(3),n=r(10).shuffleArray,i=r(7).TokenType,o=function(){function e(t,r,a){Object(c.a)(this,e),this.playerService=t,this.tokenService=r,this.configService=a,this.deck=[],this.discard=[[]],this.swapCardIndex=-1,this.activeCard={},this.activePlayerIndex=0,this.tokenToClaim=""}return Object(s.a)(e,[{key:"createDeck",value:function(){var e=this.configService.getRepeatsPerNumber(),t=this.configService.getMaxNumberInDeck();this.deck=[];for(var r=0;r<e;r++)for(var a=0;a<t;a++)this.deck.push({value:a+1,seen:!1});n(this.deck)}},{key:"getTopCardFromDeck",value:function(){if(0===this.getDeck().length){this.setDeck([]);for(var e=0;e<this.getDiscard().length;e++){var t;(t=this.getDeck()).push.apply(t,Object(a.a)(this.getDiscard()[e].splice(0,this.getDiscard()[e].length-1)))}n(this.getDeck())}var r=this.getDeck().pop();return r.seen=!1,r}},{key:"drawCardFromDeck",value:function(){this.setActiveCard(this.getTopCardFromDeck())}},{key:"drawCardFromDiscard",value:function(e){0===this.getDiscard()[e].length&&console.error("SOMETHING went wrong, discard length = 0"),this.setActiveCard(this.getDiscard()[e].pop())}},{key:"discardPileHas0Cards",value:function(){for(var e=0;e<this.configService.getNumberOfDiscards();e++)if(0===this.getDiscard()[e].length)return e;return-1}},{key:"initializeDiscard",value:function(){this.setDiscard([]);for(var e=0;e<this.configService.getNumberOfDiscards();e++)this.getDiscard().push([]),this.getDiscard()[e].push(this.getDeck().pop())}},{key:"swapIsValid",value:function(e){return this.getSwapCardIndex()>0&&this.getSwapCardIndex()!==e}},{key:"swapCards",value:function(e){var t=this.getActivePlayersDeck(),r=t[e];t[e]=t[this.swapCardIndex],t[this.swapCardIndex]=r,this.setSwapCardIndex(-1)}},{key:"replaceCard",value:function(e){var t=this.getActivePlayersDeck()[e];this.getActiveCard().seen=!0,this.getActivePlayersDeck()[e]=this.getActiveCard(),this.setActiveCard(t)}},{key:"discardCard",value:function(e){this.getDiscard()[e].push(this.getActiveCard()),this.setActiveCard({})}},{key:"turnCardFaceUp",value:function(e){var t=this.getActivePlayersDeck()[e];return!0!==this.getActivePlayersDeck()[e].seen&&(t.seen=!0,!0)}},{key:"startNewGame",value:function(){this.createDeck(),this.playerService.dealCardsToPlayers(this.getDeck()),this.initializeDiscard(),this.setSwapCardIndex(-1),this.setActiveCard({}),this.setActivePlayerIndex(0),this.setTokenToClaim("")}},{key:"nextPlayer",value:function(){this.setActivePlayerIndex(this.getActivePlayerIndex()+1===this.configService.getNumberOfPlayers()?0:this.getActivePlayerIndex()+1)}},{key:"claimToken",value:function(e){var t=this.getActivePlayersDeck();switch(this.getTokenToClaim()){case i.FIVE_IN_A_ROW:case i.FULL_HOUSE:for(var r=0;r<t.length;r++)this.getDiscard()[0].push(t[r]),t[r]=this.getTopCardFromDeck();break;case i.THREE_OF_A_KIND:for(var a=this.tokenService.getAllIndecesForSets(t,3)[0],c=0;c<3;c++)this.getDiscard()[0].push(t[a[c]]),t[a[c]]=this.getTopCardFromDeck();break;case i.THREE_IN_A_ROW:for(var s=e;s<e+3;s++)this.getDiscard()[0].push(t[s]),t[s]=this.getTopCardFromDeck(),t[s].seen=!1;break;case i.FOUR_IN_A_ROW:for(var n=e;n<e+4;n++)this.getDiscard()[0].push(t[n]),t[n]=this.getTopCardFromDeck();break;default:return void console.error("something went wrong")}this.getActivePlayersTokens().push(this.getTokenToClaim()),this.setTokenToClaim("")}},{key:"activePlayerHasAllCardsFaceUp",value:function(){for(var e=this.getActivePlayersDeck(),t=0;t<e.length;t++)if(!e[t].seen)return!1;return!0}},{key:"getActivePlayersTokens",value:function(){return this.playerService.getPlayers()[this.getActivePlayerIndex()].getTokens()}},{key:"getActivePlayersDeck",value:function(){return this.playerService.getPlayers()[this.getActivePlayerIndex()].getDeck()}},{key:"getDeck",value:function(){return this.deck}},{key:"getDiscard",value:function(){return this.discard}},{key:"getSwapCardIndex",value:function(){return this.swapCardIndex}},{key:"getActiveCard",value:function(){return this.activeCard}},{key:"getActivePlayerIndex",value:function(){return this.activePlayerIndex}},{key:"getTokenToClaim",value:function(){return this.tokenToClaim}},{key:"setDeck",value:function(e){this.deck=e}},{key:"setDiscard",value:function(e){this.discard=e}},{key:"setSwapCardIndex",value:function(e){this.swapCardIndex=e}},{key:"setActiveCard",value:function(e){this.activeCard=e}},{key:"setActivePlayerIndex",value:function(e){this.activePlayerIndex=e}},{key:"setTokenToClaim",value:function(e){this.tokenToClaim=e}}]),e}()},function(e,t,r){"use strict";r.r(t),r.d(t,"PlayerService",(function(){return n}));var a=r(2),c=r(3),s=r(28).Player,n=function(){function e(t){Object(a.a)(this,e),this.configService=t,this.players=[],this.resetPlayers()}return Object(c.a)(e,[{key:"resetPlayers",value:function(){this.players=[];for(var e=0;e<this.configService.getNumberOfPlayers();e++)this.players.push(new s([],[]))}},{key:"dealCardsToPlayers",value:function(e){for(var t=0;t<5;t++)for(var r=0;r<this.getPlayers().length;r++)this.players[r].getDeck().push(e.pop())}},{key:"getPlayers",value:function(){return this.players}},{key:"setPlayers",value:function(e){this.players=e}}]),e}()},function(e,t,r){"use strict";r.r(t),r.d(t,"Player",(function(){return s}));var a=r(2),c=r(3),s=function(){function e(t,r){Object(a.a)(this,e),this.deck=t,this.tokens=r}return Object(c.a)(e,[{key:"getDeck",value:function(){return this.deck}},{key:"getTokens",value:function(){return this.tokens}},{key:"setDeck",value:function(e){this.deck=e}},{key:"setTokens",value:function(e){this.tokens=e}}]),e}()},function(e,t,r){"use strict";r.r(t),r.d(t,"ConfigService",(function(){return s}));var a=r(2),c=r(3),s=function(){function e(t,r,c,s){Object(a.a)(this,e),this.maxNumberInDeck=t,this.repeatsPerNumber=r,this.numberOfPlayers=c,this.numberOfDiscards=s}return Object(c.a)(e,[{key:"getMaxNumberInDeck",value:function(){return this.maxNumberInDeck}},{key:"getRepeatsPerNumber",value:function(){return this.repeatsPerNumber}},{key:"getNumberOfPlayers",value:function(){return this.numberOfPlayers}},{key:"getNumberOfDiscards",value:function(){return this.numberOfDiscards}}]),e}()},function(e,t,r){"use strict";r.r(t),r.d(t,"TokenService",(function(){return n}));var a=r(2),c=r(3),s=(r(10).shuffleArray,r(7).TokenType),n=function(){function e(){Object(a.a)(this,e)}return Object(c.a)(e,[{key:"playerCanClaimToken",value:function(e){return this.canClaimToken(s.THREE_IN_A_ROW,e.getDeck(),e.getTokens())||this.canClaimToken(s.FOUR_IN_A_ROW,e.getDeck(),e.getTokens())||this.canClaimToken(s.FIVE_IN_A_ROW,e.getDeck(),e.getTokens())||this.canClaimToken(s.THREE_OF_A_KIND,e.getDeck(),e.getTokens())||this.canClaimToken(s.FULL_HOUSE,e.getDeck(),e.getTokens())}},{key:"canClaimToken",value:function(e,t,r){if(r.includes(e))return!1;switch(e){case s.THREE_IN_A_ROW:return this.getAllIndecesForStraight(t,3).length>0;case s.FOUR_IN_A_ROW:return this.getAllIndecesForStraight(t,4).length>0;case s.FIVE_IN_A_ROW:return this.getAllIndecesForStraight(t,5).length>0;case s.THREE_OF_A_KIND:return this.getAllIndecesForSets(t,3).length>0;case s.FULL_HOUSE:var a=this.getAllIndecesForSets(t,2);return 2===a.length&&a[0].length+a[1].length===5}return!1}},{key:"isValidIndexForToken",value:function(e,t,r){var a=[];switch(e){case s.THREE_IN_A_ROW:a=this.getAllIndecesForStraight(t,3);for(var c=0;c<a.length;c++)if(r===a[c][0])return!0;return!1;case s.FOUR_IN_A_ROW:a=this.getAllIndecesForStraight(t,4);for(var n=0;n<a.length;n++)if(r===a[n][0])return!0;return!1;case s.FIVE_IN_A_ROW:a=this.getAllIndecesForStraight(t,5);for(var i=0;i<a.length;i++)if(r===a[i][0])return!0;return!1;case s.THREE_OF_A_KIND:a=this.getAllIndecesForSets(t,3);for(var o=0;o<a.length;o++)if(a[o].includes(r))return!0;return!1;case s.FULL_HOUSE:var l=this.getAllIndecesForSets(t,2);return 2===l.length&&l[0].length+l[1].length===5}return!1}},{key:"getAllIndecesForToken",value:function(e,t){return t===s.THREE_IN_A_ROW?this.getAllIndecesForStraight(e,3):t===s.FOUR_IN_A_ROW?this.getAllIndecesForStraight(e,4):t===s.FIVE_IN_A_ROW?this.getAllIndecesForStraight(e,5):t===s.THREE_OF_A_KIND?this.getAllIndecesForSets(e,3):t===s.FULL_HOUSE&&this.canClaimToken(s.FULL_HOUSE,e,[])?[[0,1,2,3,4]]:[]}},{key:"getAllIndecesForStraight",value:function(e,t){for(var r=6-t,a=[],c=0;c<r;c++){var s=[];if(e[c].seen){s.push(c);for(var n=c+1;n<t+c&&(e[n].seen&&e[n].value===e[n-1].value+1);n++)s.push(n);s.length===t&&a.push(s)}}return a}},{key:"getAllIndecesForSets",value:function(e,t){for(var r=[],a={},c=0;c<5;c++)e[c].seen&&(a[e[c].value]||(a[e[c].value]=[]),a[e[c].value].push(c));for(var s=0,n=Object.keys(a);s<n.length;s++){var i=n[s];a[i].length>=t&&r.push(a[i])}return r}}]),e}()},function(e,t,r){"use strict";r.r(t);var a=r(1),c=r.n(a),s=r(11),n=r.n(s),i=(r(17),r(18),r(2)),o=r(3),l=r(6),d=r(5),h=r(4),u=(r(19),r(0)),v=r(9),S=r(7).MoveState,g=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(e){var a;return Object(i.a)(this,r),(a=t.call(this,e)).render=function(){return Object(u.jsxs)("div",{className:"PlayerHand","data-testid":"hand",children:[Object(u.jsx)("div",{role:"header",className:"PlayerHeader",name:"Player1",children:Object(u.jsxs)("p",{className:"playerTag",children:["Player ",a.props.id+1]})}),Object(u.jsx)("div",{className:"PlayerTokenHeader",children:Object(u.jsxs)("p",{className:"playerTag",children:["Tokens [",a.tokens.length,"/4]"]})}),a.deck.map((function(e,t){return Object(u.jsx)("div",{className:"PlayerCardWrapper",children:Object(u.jsx)("div",{className:v("PlayerCard",{PlayerCardBack:!e.seen},{PlayerCardFront:e.seen},{PlayerCardIsActive:a.cardCanBePressed(e,t)}),role:"playerCard",onClick:function(){return a.props.cardPressedCallback(a.props.id,t)},children:e.seen?e.value:Object(u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:Object(u.jsx)("path",{d:"M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm1.25 17c0 .69-.559 1.25-1.25 1.25-.689 0-1.25-.56-1.25-1.25s.561-1.25 1.25-1.25c.691 0 1.25.56 1.25 1.25zm1.393-9.998c-.608-.616-1.515-.955-2.551-.955-2.18 0-3.59 1.55-3.59 3.95h2.011c0-1.486.829-2.013 1.538-2.013.634 0 1.307.421 1.364 1.226.062.847-.39 1.277-.962 1.821-1.412 1.343-1.438 1.993-1.432 3.468h2.005c-.013-.664.03-1.203.935-2.178.677-.73 1.519-1.638 1.536-3.022.011-.924-.284-1.719-.854-2.297z"})})})},t)})),Object(u.jsx)("div",{className:"PlayerTokens",children:a.tokens.map((function(e,t){return Object(u.jsx)("div",{className:"PlayerToken",role:"playerToken",children:e},t)}))})]})},a.TableCanvas=c.a.createRef(),a.render.bind(Object(h.a)(a)),a.deck=a.props.playerService.getPlayers()[a.props.id].getDeck(),a.tokens=a.props.playerService.getPlayers()[a.props.id].getTokens(),a}return Object(o.a)(r,[{key:"cardCanBePressed",value:function(e,t){return this.props.id===this.props.gameService.getActivePlayerIndex()&&([S.TURN_FACE_UP_CHOSEN,S.TURN_FACE_UP_IN_PROGRESS].includes(this.props.moveState)&&!e.seen||S.SWAP_IN_PROGRESS===this.props.moveState&&this.props.gameService.getSwapCardIndex()!==t||[S.CARD_DRAWN,S.SWAP_CHOSEN,S.CLAIMING_TOKEN].includes(this.props.moveState))}}]),r}(a.Component),O=(r(21),r(7)),j=O.DrawType,A=O.MoveState,k=r(9),p=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(e){var a;return Object(i.a)(this,r),(a=t.call(this,e)).render=function(){return Object(u.jsxs)("div",{className:"MiddleSection","data-testid":"middle-section",children:[a.gameService.getDiscard().map((function(e,t){return Object(u.jsxs)("div",{className:"DiscardSection",children:[Object(u.jsxs)("div",{className:"FullWidth",role:"header",children:["Discard ",t+1]}),Object(u.jsx)("div",{className:"PlayerCardWrapper",children:Object(u.jsx)("div",{className:k("PlayerCard","PlayerCardFront",{PlayerCardIsActive:a.highlightDiscard()}),"data-testid":"middle-section-discard-"+t,onClick:function(){a.props.drawCallback(j.DISCARD,t)},children:a.getTopDiscardValue(t)})})]},t)})),Object(u.jsxs)("div",{className:"DeckSection",children:[Object(u.jsx)("div",{className:"FullWidth",role:"header",children:"Deck"}),Object(u.jsx)("div",{className:k("PlayerCard","PlayerCardBack",{PlayerCardIsActive:a.highlightDeck()}),"data-testid":"middle-section-deck",onClick:function(){a.props.drawCallback(j.DECK)},children:Object(u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:Object(u.jsx)("path",{d:"M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm1.25 17c0 .69-.559 1.25-1.25 1.25-.689 0-1.25-.56-1.25-1.25s.561-1.25 1.25-1.25c.691 0 1.25.56 1.25 1.25zm1.393-9.998c-.608-.616-1.515-.955-2.551-.955-2.18 0-3.59 1.55-3.59 3.95h2.011c0-1.486.829-2.013 1.538-2.013.634 0 1.307.421 1.364 1.226.062.847-.39 1.277-.962 1.821-1.412 1.343-1.438 1.993-1.432 3.468h2.005c-.013-.664.03-1.203.935-2.178.677-.73 1.519-1.638 1.536-3.022.011-.924-.284-1.719-.854-2.297z"})})})]})]})},a.TableCanvas=c.a.createRef(),a.render.bind(Object(h.a)(a)),a.gameService=e.gameService,a}return Object(o.a)(r,[{key:"getTopDiscardValue",value:function(e){var t=this.gameService.getDiscard()[e];return t.length>0?t[t.length-1].value:""}},{key:"highlightDeck",value:function(){return this.props.moveState===A.START_STATE}},{key:"highlightDiscard",value:function(){return[A.START_STATE,A.DISCARD_CHOSEN].includes(this.props.moveState)}}]),r}(a.Component),f=(r(22),r(7)),m=f.ActionType,_=f.MoveState,C=f.TokenType,b=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(e){var a;return Object(i.a)(this,r),(a=t.call(this,e)).ShowCardActions=function(){return[_.CARD_DRAWN,_.TURN_FACE_UP_CHOSEN,_.TURN_FACE_UP_IN_PROGRESS,_.SWAP_CHOSEN,_.SWAP_IN_PROGRESS,_.DISCARD_CHOSEN].includes(a.props.moveState)},a.ShowTurnUpAction=function(){return!a.gameService.activePlayerHasAllCardsFaceUp()},a.ShowEndActions=function(){return a.props.moveState===_.PRE_END_STATE},a.ShowToken=function(e){return a.tokenService.canClaimToken(e,a.gameService.getActivePlayersDeck(),a.gameService.getActivePlayersTokens())},a.showInitialActions=function(){return a.props.moveState!==_.DISCARD_CHOSEN},a.render=function(){return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsxs)("div",{className:"CardTableFooter","data-testid":"footer-section",children:[a.ShowCardActions()&&Object(u.jsxs)(c.a.Fragment,{children:[!!a.gameService.getActiveCard()&&!!a.gameService.getActiveCard().value&&Object(u.jsxs)(c.a.Fragment,{children:[Object(u.jsx)("div",{className:"PlayerCard PlayerCardFront",role:"activeCard",children:a.gameService.getActiveCard().value}),a.showInitialActions()&&Object(u.jsxs)("div",{children:[Object(u.jsx)("button",{className:"swapButton",onClick:function(){a.props.buttonPressedCallback(m.SWAP)},children:" Discard to swap two "}),a.ShowTurnUpAction()&&Object(u.jsx)("button",{className:"turnFaceUpButton","data-testid":"turn-face-up-button",onClick:function(){a.props.buttonPressedCallback(m.TURN_FACE_UP)},children:" Discard to turn two face up "})]})]}),a.showInitialActions()&&Object(u.jsx)("div",{className:"FullWidth",children:Object(u.jsx)("button",{className:"mb-2 FullWidth",onClick:function(){a.props.buttonPressedCallback(m.PASS)},children:" Pass "})})]}),a.ShowEndActions()&&Object(u.jsxs)(c.a.Fragment,{children:[a.ShowToken(C.THREE_IN_A_ROW)&&Object(u.jsx)("div",{children:Object(u.jsx)("button",{onClick:function(){return a.props.buttonPressedCallback(m.CLAIM_TOKEN,C.THREE_IN_A_ROW)},children:" THREE IN A ROW "})}),a.ShowToken(C.FOUR_IN_A_ROW)&&Object(u.jsx)("div",{children:Object(u.jsx)("button",{onClick:function(){return a.props.buttonPressedCallback(m.CLAIM_TOKEN,C.FOUR_IN_A_ROW)},children:" FOUR IN A ROW "})}),a.ShowToken(C.FIVE_IN_A_ROW)&&Object(u.jsx)("div",{children:Object(u.jsx)("button",{onClick:function(){return a.props.buttonPressedCallback(m.CLAIM_TOKEN,C.FIVE_IN_A_ROW)},children:" FIVE IN A ROW "})}),a.ShowToken(C.THREE_OF_A_KIND)&&Object(u.jsx)("div",{children:Object(u.jsx)("button",{onClick:function(){return a.props.buttonPressedCallback(m.CLAIM_TOKEN,C.THREE_OF_A_KIND)},children:" THREE OF A KIND "})}),a.ShowToken(C.FULL_HOUSE)&&Object(u.jsx)("div",{children:Object(u.jsx)("button",{onClick:function(){return a.props.buttonPressedCallback(m.CLAIM_TOKEN,C.FULL_HOUSE)},children:" FULL HOUSE "})}),Object(u.jsx)("div",{className:"FullWidth",children:Object(u.jsx)("button",{className:"mb-2 FullWidth",onClick:function(){a.props.buttonPressedCallback(m.CHANGE_TURN)},children:" Pass "})})]})]})})},a.gameService=e.gameService,a.tokenService=e.tokenService,a.TableCanvas=c.a.createRef(),a.render.bind(Object(h.a)(a)),a}return r}(a.Component),T=(r(23),function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(e){var a;return Object(i.a)(this,r),(a=t.call(this,e)).render=function(){return Object(u.jsxs)("div",{className:"rulesSection","data-testid":"rules-section",children:[Object(u.jsx)("div",{className:"secondary-background",children:Object(u.jsx)("h3",{className:"rules-header",children:"Rules"})}),Object(u.jsxs)("div",{className:"secondary-background",children:[Object(u.jsx)("h4",{className:"rules-header",children:"Introduction"}),Object(u.jsx)("p",{className:"rules-p",children:"Welcome to Straight 5, a rummy-like, yahtzee-like card game! This is the (work-in-progress) digitial version of the (hopefully future) Straight 5 game. "})]}),Object(u.jsxs)("div",{className:"primary-background",children:[Object(u.jsx)("h4",{className:"rules-header",children:"Winning"}),Object(u.jsxs)("p",{className:"rules-p",children:["The first player to claim ",a.targetTokens," out of ",a.maxTokens," tokens below wins."]}),Object(u.jsxs)("ul",{children:[Object(u.jsx)("li",{children:"Three in a row"}),Object(u.jsx)("li",{children:"Four in a row"}),Object(u.jsx)("li",{children:"Five in a row"}),Object(u.jsx)("li",{children:"Three of a kind"}),Object(u.jsx)("li",{children:"Full House"})]})]}),Object(u.jsxs)("div",{className:"secondary-background",children:[Object(u.jsx)("h4",{className:"rules-header",children:"Set up"}),Object(u.jsx)("p",{className:"rules-p",children:"Each player begins with 5 cards face-down in front of them. The top card of the deck will be turned over as a discard"})]}),Object(u.jsxs)("div",{className:"primary-background",children:[Object(u.jsx)("h4",{className:"rules-header",children:"Turn Order"}),Object(u.jsx)("p",{className:"rules-p",children:"Each consists of three phases:"}),Object(u.jsxs)("ol",{children:[Object(u.jsxs)("li",{children:[Object(u.jsx)("h4",{className:"phaseHeader",children:"Draw Phase:"})," draw the top card of the deck or discard piles"]}),Object(u.jsxs)("li",{children:[Object(u.jsx)("h4",{className:"phaseHeader",children:"Play Phase:"}),Object(u.jsxs)("ul",{children:[Object(u.jsx)("li",{children:" Place card in front of you (and discard existing card), or; "}),Object(u.jsx)("li",{children:" Discard the drawn card (to any discard pile) and:  "}),Object(u.jsxs)("ul",{children:[Object(u.jsx)("li",{children:" Turn up to two cards face-up"}),Object(u.jsx)("li",{children:" Swap any two cards "})]})]})]}),Object(u.jsxs)("li",{children:[Object(u.jsx)("h4",{className:"phaseHeader",children:"Claim Token Phase"}),": Claim a token by discarding the required cards (e.g. 1 2 3 4 for Four In a Row)."]})]})]}),Object(u.jsxs)("div",{className:"secondary-background",children:[Object(u.jsx)("h4",{className:"rules-header",children:"Rule Clarifications"}),Object(u.jsx)("p",{className:"rules-p",children:"Here are some clarifications on rules above:"}),Object(u.jsxs)("ol",{children:[Object(u.jsx)("li",{children:"When you place the drawn card in front of you, you do not get to take another action"}),Object(u.jsxs)("li",{children:["When you discard a card, you get to choose which discard pile it goes into ",Object(u.jsx)("b",{children:"UNLESS"})," a discard pile has 0 cards, in which case you must discard it there (and the app will do this automatically)"]}),Object(u.jsx)("li",{children:'If you have only one card face-up and choose to take the "turn up to two cards face up" action. You only get to turn one card face up. '}),Object(u.jsx)("li",{children:"You can only claim each token once"}),Object(u.jsx)("li",{children:"You can only claim one token per turn"}),Object(u.jsx)("li",{children:"The cards to claim the tokens for the straights (3/4/5 in a row) must be adjacent and in ascending order (e.g. 1 2 3 not 3 2 1 or 1 3 2)"}),Object(u.jsx)("li",{children:"The cards to claim the tokens for three of a kind and full house can be anywhere"})]})]}),Object(u.jsxs)("div",{className:"primary-background",children:[Object(u.jsx)("h4",{className:"rules-header",children:"Final notes"}),Object(u.jsxs)("p",{className:"rules-p",children:["If you find any bugs or issues with Straight 5 please submit an issue by ",Object(u.jsx)("a",{href:"https://github.com/andyrewwer/straight5/issues",children:"clicking here"})," or you can email me at ",Object(u.jsx)("a",{href:"mailto:a.andyrewwer@gmail.com?subject = Feedback on Straight 5",children:"a.andyrewwer@gmail.com."})," Also feel free to email me with other thoughts/feedback/concerns (about the game or otherwise)!"]})]})]})},a.render.bind(Object(h.a)(a)),a.targetTokens=4,a.maxTokens=5,a}return r}(a.Component)),N=(r(24),r(10).getPlayerTextForMoveState),y=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(e){var a;return Object(i.a)(this,r),(a=t.call(this,e)).render=function(){return Object(u.jsx)(c.a.Fragment,{children:Object(u.jsxs)("div",{className:"newsTicker","data-testid":"newsticker",children:[Object(u.jsx)("div",{className:"newsTickerTriangleLeft"}),Object(u.jsx)("div",{className:"newsTickerMain",children:N(a.props.moveState,a.gameService.getSwapCardIndex()+1)}),Object(u.jsx)("div",{className:"newsTickerTriangleRight"})]})})},a.gameService=e.gameService,a.TableCanvas=c.a.createRef(),a.render.bind(Object(h.a)(a)),a}return r}(a.Component),E=(r(25),r(7)),P=E.ActionType,R=E.AppMode,I=E.DrawType,x=E.MoveState,D=E.TokenType,F=r(9),w=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(e){var a;return Object(i.a)(this,r),(a=t.call(this,e)).StartNewGame=function(){a.playerService.resetPlayers(),a.gameService.startNewGame(),a.setState({MoveState:x.START_STATE,AppMode:R.GAME})},a.deckAndDiscardPressed=function(e,t){a.state.MoveState===x.START_STATE?(e===I.DECK?a.gameService.drawCardFromDeck():e===I.DISCARD?a.gameService.drawCardFromDiscard(t):console.error("draw card failed",e),a.setState({MoveState:x.CARD_DRAWN})):a.state.MoveState===x.DISCARD_CHOSEN&&e===I.DISCARD&&a.handleDiscard(t,a.state.InterruptedActionType)},a.ReplaceCard=function(e){a.gameService.replaceCard(e)},a.TurnCardFaceUp=function(e){a.gameService.turnCardFaceUp(e)&&(a.state.MoveState!==x.TURN_FACE_UP_IN_PROGRESS?a.gameService.activePlayerHasAllCardsFaceUp()?a.EndMove():a.setState({MoveState:x.TURN_FACE_UP_IN_PROGRESS}):a.EndMove())},a.SwapCards=function(e){if(a.gameService.swapIsValid(e))return a.gameService.swapCards(e),void a.EndMove();a.gameService.setSwapCardIndex(e),a.setState({MoveState:x.SWAP_IN_PROGRESS})},a.EndMove=function(){a.tokenService.playerCanClaimToken(a.playerService.getPlayers()[a.gameService.getActivePlayerIndex()])?a.setState({MoveState:x.PRE_END_STATE}):a.ChangeTurn()},a.ClaimTokenCardPress=function(e){if(a.tokenService.isValidIndexForToken(a.gameService.getTokenToClaim(),a.gameService.getActivePlayersDeck(),e)){if(a.gameService.claimToken(e),!a.checkIfWinner())return a.ChangeTurn()}else console.error("invalid index :(")},a.ChangeTurn=function(){return a.gameService.nextPlayer(),a.setState({MoveState:x.START_STATE})},a.handleActionButtonPressed=function(e,t){if(e===P.PASS)return a.state.MoveState===x.CARD_DRAWN?a.setDiscardChosenState(e):a.EndMove();if([P.SWAP,P.TURN_FACE_UP].includes(e))return a.setDiscardChosenState(e);if(e===P.CHANGE_TURN)return a.ChangeTurn();if(e===P.CLAIM_TOKEN){a.gameService.setTokenToClaim(t);var r=a.tokenService.getAllIndecesForToken(a.gameService.getActivePlayersDeck(),t);if((1===r.length||t===D.FULL_HOUSE||t===D.THREE_OF_A_KIND)&&(a.gameService.claimToken(r[0][0]),!a.checkIfWinner()))return a.ChangeTurn();a.setState({MoveState:x.CLAIMING_TOKEN})}},a.handlePlayerCardPressed=function(e,t){if(e===a.gameService.getActivePlayerIndex())switch(a.state.MoveState){case x.CARD_DRAWN:return a.ReplaceCard(t),void a.setDiscardChosenState(P.REPLACE_CARD);case x.TURN_FACE_UP_CHOSEN:case x.TURN_FACE_UP_IN_PROGRESS:a.TurnCardFaceUp(t);break;case x.SWAP_CHOSEN:case x.SWAP_IN_PROGRESS:a.SwapCards(t);break;case x.CLAIMING_TOKEN:a.ClaimTokenCardPress(t);break;default:console.log("No action for this status",a.state.MoveState)}else console.log("card from wrong player clicked")},a.render=function(){return Object(u.jsxs)(c.a.Fragment,{children:[Object(u.jsxs)("div",{className:F("CardTable",{CardTableGame:a.state.AppMode!==R.START_STATE}),children:[Object(u.jsx)("h2",{className:"startHeader","data-testid":"start-header",children:"Straight 5"}),a.state.AppMode===R.START_STATE&&Object(u.jsxs)(c.a.Fragment,{children:[Object(u.jsx)(T,{}),Object(u.jsx)("div",{className:"mb-4 mt-2",children:Object(u.jsx)("button",{className:"small-width-button",onClick:a.StartNewGame,children:"Start New Game"})})]}),a.state.AppMode===R.GAME&&Object(u.jsxs)(c.a.Fragment,{children:[Object(u.jsx)(g,{gameService:a.gameService,moveState:a.state.MoveState,playerService:a.playerService,id:0,cardPressedCallback:a.handlePlayerCardPressed}),Object(u.jsx)(p,{gameService:a.gameService,drawCallback:a.deckAndDiscardPressed,moveState:a.state.MoveState}),Object(u.jsx)(g,{gameService:a.gameService,moveState:a.state.MoveState,playerService:a.playerService,id:1,cardPressedCallback:a.handlePlayerCardPressed})]}),a.state.AppMode===R.PLAYER_WIN&&Object(u.jsx)(c.a.Fragment,{children:Object(u.jsxs)("div",{className:"mb-4","data-testid":"win-header",children:["Congratulations to Player ",a.gameService.getActivePlayerIndex()+1,Object(u.jsx)("button",{"data-testid":"win-startNewGame",className:"mt-2",onClick:a.StartNewGame,children:"Start a new Game"})]})})]}),a.state.AppMode===R.GAME&&Object(u.jsx)(y,{gameService:a.gameService,moveState:a.state.MoveState}),a.state.AppMode===R.GAME&&Object(u.jsx)(b,{gameService:a.gameService,moveState:a.state.MoveState,tokenService:a.tokenService,buttonPressedCallback:a.handleActionButtonPressed})]})},a.state={AppMode:R.START_STATE,MoveState:x.START_STATE},a.playerService=e.playerService,a.gameService=e.gameService,a.configService=e.configService,a.tokenService=e.tokenService,a}return Object(o.a)(r,[{key:"handleDiscard",value:function(e,t){return this.gameService.discardCard(e),t===P.PASS?this.EndMove():t===P.SWAP?this.setState({MoveState:x.SWAP_CHOSEN}):t===P.TURN_FACE_UP?this.setState({MoveState:x.TURN_FACE_UP_CHOSEN}):void(t===P.REPLACE_CARD&&this.EndMove())}},{key:"checkIfWinner",value:function(){return this.gameService.getActivePlayersTokens().length>=4&&(this.setState({AppMode:R.PLAYER_WIN}),!0)}},{key:"setDiscardChosenState",value:function(e){var t=this.gameService.discardPileHas0Cards();t>=0?this.handleDiscard(t,e):this.setState({MoveState:x.DISCARD_CHOSEN,InterruptedActionType:e})}}]),r}(a.Component),U=r(26).GameService,M=r(27).PlayerService,W=r(29).ConfigService,H=r(30).TokenService;var L=function(){var e=new W(6,9,2,3),t=new M(e),r=new H,a=new U(t,r,e);return Object(u.jsx)("div",{className:"App",children:Object(u.jsx)("header",{children:Object(u.jsx)("div",{className:"Container",children:Object(u.jsx)(w,{playerService:t,gameService:a,configService:e,tokenService:r})})})})},G=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,32)).then((function(t){var r=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,n=t.getTTFB;r(e),a(e),c(e),s(e),n(e)}))};n.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(L,{})}),document.getElementById("root")),G()}],[[31,1,2]]]);
//# sourceMappingURL=main.25995b53.chunk.js.map
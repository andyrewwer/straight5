(this.webpackJsonpstraight5=this.webpackJsonpstraight5||[]).push([[0],[,,,,,,,,,,,,function(e,t,a){"use strict";a.r(t),a.d(t,"ActionType",(function(){return r})),a.d(t,"AppMode",(function(){return n})),a.d(t,"DrawType",(function(){return s})),a.d(t,"MoveState",(function(){return c})),a.d(t,"TokenType",(function(){return i})),a.d(t,"CardValues",(function(){return o}));var r={PASS:"PASS",SWAP:"SWAP",CHANGE_TURN:"CHANGE_TURN",TURN_FACE_UP:"TURN_FACE_UP",CLAIM_TOKEN:"CLAIM_TOKEN",REPLACE_CARD:"REPLACE_CARD"},n={START_STATE:"START_STATE",GAME:"GAME",PLAYER_WIN:"PLAYER_WIN"},s={DECK:"DECK",DISCARD:"DISCARD"},c={START_STATE:"START_STATE",CARD_DRAWN:"CARD_DRAWN",DISCARD_CHOSEN:"DISCARD_CHOSEN",TURN_FACE_UP_CHOSEN:"TURN_FACE_UP_CHOSEN",TURN_FACE_UP_IN_PROGRESS:"TURN_FACE_UP_IN_PROGRESS",SWAP_CHOSEN:"SWAP_CHOSEN",SWAP_IN_PROGRESS:"SWAP_IN_PROGRESS",PRE_END_STATE:"PRE_END_STATE",CLAIMING_TOKEN:"CLAIMING_TOKEN",CHANGE_TURN_STATE:"CHANGE_TURN_STATE"},i={THREE_IN_A_ROW:"THREE_IN_A_ROW",FOUR_IN_A_ROW:"FOUR_IN_A_ROW",FIVE_IN_A_ROW:"FIVE_IN_A_ROW",THREE_OF_A_KIND:"THREE_OF_A_KIND",FULL_HOUSE:"FULL_HOUSE"},o={WILD:"WILD"}},,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";a.r(t),a.d(t,"shuffleArray",(function(){return n})),a.d(t,"getPlayerTextForMoveState",(function(){return s}));var r=a(12).MoveState;function n(e){for(var t=e.length-1;t>0;t--){var a=Math.floor(Math.random()*(t+1)),r=[e[a],e[t]];e[t]=r[0],e[a]=r[1]}return e}function s(e,t){switch(e){case r.START_STATE:return"Please draw a card from Deck or Discard";case r.CARD_DRAWN:return"Replace card in your hand or choose a discard option";case r.TURN_FACE_UP_CHOSEN:return"Select the first card to turn face up";case r.TURN_FACE_UP_IN_PROGRESS:return"Select the second card to turn face up or pass";case r.SWAP_CHOSEN:return"Select the first card you'd like  to swap";case r.SWAP_IN_PROGRESS:return"Selected "+t+". Please select a second card to swap";case r.PRE_END_STATE:return"Please select a token to claim or pass";case r.CLAIMING_TOKEN:return"Please select the first card of your run";case r.DISCARD_CHOSEN:return"Please select the discard pile you would like to discard the card to";case r.CHANGE_TURN_STATE:return"Click anywhere to start your turn";default:return"UNKONWN STATE DETECTED"}}},,,,,,,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,,,,,,,,function(e,t,a){},function(e,t,a){},,,function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"GameState",(function(){return s}));var r=a(3),n=a(5),s=function(){function e(){Object(r.a)(this,e),this.deck=[],this.discard=[[]],this.swapCardIndex=-1,this.activeCard={},this.activePlayerIndex=0,this.tokenToClaim=""}return Object(n.a)(e,[{key:"getDeck",value:function(){return this.deck}},{key:"getDiscard",value:function(){return this.discard}},{key:"getSwapCardIndex",value:function(){return this.swapCardIndex}},{key:"getActiveCard",value:function(){return this.activeCard}},{key:"getActivePlayerIndex",value:function(){return this.activePlayerIndex}},{key:"getTokenToClaim",value:function(){return this.tokenToClaim}},{key:"setDeck",value:function(e){this.deck=e}},{key:"setDiscard",value:function(e){this.discard=e}},{key:"setSwapCardIndex",value:function(e){this.swapCardIndex=e}},{key:"setActiveCard",value:function(e){this.activeCard=e}},{key:"setActivePlayerIndex",value:function(e){this.activePlayerIndex=e}},{key:"setTokenToClaim",value:function(e){this.tokenToClaim=e}}]),e}()},function(e,t,a){"use strict";a.r(t),a.d(t,"GameService",(function(){return d}));var r=a(38),n=a(3),s=a(5),c=a(32).shuffleArray,i=a(12),o=i.CardValues,l=i.TokenType,d=function(){function e(t,a,r,s){Object(n.a)(this,e),this.playerService=t,this.tokenService=a,this.configService=r,this.gameState=s}return Object(s.a)(e,[{key:"createDeck",value:function(){var e=this.configService.getRepeatsPerNumber(),t=this.configService.getMaxNumberInDeck(),a=this.configService.getNumberOfJokers();this.getGameState().setDeck([]);for(var r=0;r<e;r++)for(var n=0;n<t;n++)this.getGameState().getDeck().push({value:n+1,seen:!1});for(var s=0;s<a;s++)this.getGameState().getDeck().push({value:o.WILD,seen:!1});c(this.getGameState().getDeck())}},{key:"getTopCardFromDeck",value:function(){if(0===this.getGameState().getDeck().length){this.getGameState().setDeck([]);for(var e=0;e<this.getGameState().getDiscard().length;e++){var t;(t=this.getGameState().getDeck()).push.apply(t,Object(r.a)(this.getGameState().getDiscard()[e].splice(0,this.getGameState().getDiscard()[e].length-1)))}c(this.getGameState().getDeck())}var a=this.getGameState().getDeck().pop();return a.seen=!1,a}},{key:"drawCardFromDeck",value:function(){this.getGameState().setActiveCard(this.getTopCardFromDeck())}},{key:"drawCardFromDiscard",value:function(e){0===this.getGameState().getDiscard()[e].length&&console.error("SOMETHING went wrong, discard length = 0"),this.getGameState().setActiveCard(this.getGameState().getDiscard()[e].pop())}},{key:"discardPileHas0Cards",value:function(){for(var e=0;e<this.configService.getNumberOfDiscards();e++)if(0===this.getGameState().getDiscard()[e].length)return e;return-1}},{key:"initializeDiscard",value:function(){this.getGameState().setDiscard([]);for(var e=0;e<this.configService.getNumberOfDiscards();e++)this.getGameState().getDiscard().push([]),this.getGameState().getDiscard()[e].push(this.getGameState().getDeck().pop())}},{key:"swapIsValid",value:function(e){return this.getGameState().getSwapCardIndex()>0&&this.getGameState().getSwapCardIndex()!==e}},{key:"swapCards",value:function(e){var t=this.getActivePlayersDeck(),a=t[e];t[e]=t[this.getGameState().getSwapCardIndex()],t[this.getGameState().getSwapCardIndex()]=a,this.getGameState().setSwapCardIndex(-1)}},{key:"replaceCard",value:function(e){var t=this.getActivePlayersDeck()[e];this.getGameState().getActiveCard().seen=!0,this.getActivePlayersDeck()[e]=this.getGameState().getActiveCard(),this.getGameState().setActiveCard(t)}},{key:"discardCard",value:function(e){this.getGameState().getDiscard()[e].push(this.getGameState().getActiveCard()),this.getGameState().setActiveCard({})}},{key:"turnCardFaceUp",value:function(e){var t=this.getActivePlayersDeck()[e];return!0!==this.getActivePlayersDeck()[e].seen&&(t.seen=!0,!0)}},{key:"startNewGame",value:function(){this.createDeck(),this.playerService.dealCardsToPlayers(this.getGameState().getDeck()),this.initializeDiscard(),this.getGameState().setSwapCardIndex(-1),this.getGameState().setActiveCard({}),this.getGameState().setActivePlayerIndex(0),this.getGameState().setTokenToClaim("")}},{key:"nextPlayer",value:function(){var e=this.getGameState().getActivePlayerIndex();this.getGameState().setActivePlayerIndex(e+1===this.configService.getNumberOfPlayers()?0:e+1)}},{key:"claimToken",value:function(e){var t=this.getActivePlayersDeck();switch(this.getGameState().getTokenToClaim()){case l.FIVE_IN_A_ROW:case l.FULL_HOUSE:for(var a=0;a<t.length;a++)this.getGameState().getDiscard()[0].push(t[a]),t[a]=this.getTopCardFromDeck();break;case l.THREE_OF_A_KIND:for(var r=this.tokenService.getAllIndecesForSets(t,3)[0],n=0;n<3;n++)this.getGameState().getDiscard()[0].push(t[r[n]]),t[r[n]]=this.getTopCardFromDeck();break;case l.THREE_IN_A_ROW:for(var s=e;s<e+3;s++)this.getGameState().getDiscard()[0].push(t[s]),t[s]=this.getTopCardFromDeck(),t[s].seen=!1;break;case l.FOUR_IN_A_ROW:for(var c=e;c<e+4;c++)this.getGameState().getDiscard()[0].push(t[c]),t[c]=this.getTopCardFromDeck();break;default:return void console.error("something went wrong")}this.getActivePlayersTokens().push(this.getGameState().getTokenToClaim()),this.getGameState().setTokenToClaim("")}},{key:"activePlayerHasAllCardsFaceUp",value:function(){for(var e=this.getActivePlayersDeck(),t=0;t<e.length;t++)if(!e[t].seen)return!1;return!0}},{key:"getGameState",value:function(){return this.gameState}},{key:"setGameState",value:function(e){this.gameState=e}},{key:"getActivePlayersTokens",value:function(){return this.playerService.getPlayers()[this.getGameState().getActivePlayerIndex()].getTokens()}},{key:"getActivePlayersDeck",value:function(){return this.playerService.getPlayers()[this.getGameState().getActivePlayerIndex()].getDeck()}}]),e}()},function(e,t,a){"use strict";a.r(t),a.d(t,"PlayerService",(function(){return c}));var r=a(3),n=a(5),s=a(77).Player,c=function(){function e(t){Object(r.a)(this,e),this.configService=t,this.players=[],this.resetPlayers()}return Object(n.a)(e,[{key:"resetPlayers",value:function(){this.players=[];for(var e=0;e<this.configService.getNumberOfPlayers();e++)this.players.push(new s([],[]))}},{key:"dealCardsToPlayers",value:function(e){for(var t=0;t<5;t++)for(var a=0;a<this.getPlayers().length;a++)this.players[a].getDeck().push(e.pop())}},{key:"getPlayers",value:function(){return this.players}},{key:"setPlayers",value:function(e){this.players=e}}]),e}()},function(e,t,a){"use strict";a.r(t),a.d(t,"Player",(function(){return s}));var r=a(3),n=a(5),s=function(){function e(t,a){Object(r.a)(this,e),this.deck=t,this.tokens=a}return Object(n.a)(e,[{key:"getDeck",value:function(){return this.deck}},{key:"getTokens",value:function(){return this.tokens}},{key:"setDeck",value:function(e){this.deck=e}},{key:"setTokens",value:function(e){this.tokens=e}}]),e}()},function(e,t,a){"use strict";a.r(t),a.d(t,"ConfigService",(function(){return s}));var r=a(3),n=a(5),s=function(){function e(t,a,n,s,c,i){Object(r.a)(this,e),this.maxNumberInDeck=t,this.repeatsPerNumber=a,this.numberOfPlayers=n,this.numberOfDiscards=s,this.numberOfJokers=c,this.numberOfTokensNeededToWin=i}return Object(n.a)(e,[{key:"getMaxNumberInDeck",value:function(){return this.maxNumberInDeck}},{key:"getRepeatsPerNumber",value:function(){return this.repeatsPerNumber}},{key:"getNumberOfPlayers",value:function(){return this.numberOfPlayers}},{key:"getNumberOfDiscards",value:function(){return this.numberOfDiscards}},{key:"getNumberOfJokers",value:function(){return this.numberOfJokers}},{key:"getNumberOfTokensNeededToWin",value:function(){return this.numberOfTokensNeededToWin}},{key:"setMaxNumberInDeck",value:function(e){this.maxNumberInDeck=e}},{key:"setRepeatsPerNumber",value:function(e){this.repeatsPerNumber=e}},{key:"setNumberOfPlayers",value:function(e){this.numberOfPlayers=e}},{key:"setNumberOfDiscards",value:function(e){this.numberOfDiscards=e}},{key:"setNumberOfJokers",value:function(e){this.numberOfJokers=e}},{key:"setNumberOfTokensNeededToWin",value:function(e){this.numberOfTokensNeededToWin=e}},{key:"reset",value:function(){this.setMaxNumberInDeck(9),this.setRepeatsPerNumber(6),this.setNumberOfPlayers(2),this.setNumberOfDiscards(3),this.setNumberOfJokers(2),this.setNumberOfTokensNeededToWin(4)}}]),e}()},function(e,t,a){"use strict";a.r(t),a.d(t,"TokenService",(function(){return o}));var r=a(3),n=a(5),s=a(12),c=s.TokenType,i=s.CardValues,o=function(){function e(){Object(r.a)(this,e)}return Object(n.a)(e,[{key:"playerCanClaimToken",value:function(e){return this.canClaimToken(c.THREE_IN_A_ROW,e.getDeck(),e.getTokens())||this.canClaimToken(c.FOUR_IN_A_ROW,e.getDeck(),e.getTokens())||this.canClaimToken(c.FIVE_IN_A_ROW,e.getDeck(),e.getTokens())||this.canClaimToken(c.THREE_OF_A_KIND,e.getDeck(),e.getTokens())||this.canClaimToken(c.FULL_HOUSE,e.getDeck(),e.getTokens())}},{key:"canClaimToken",value:function(e,t,a){if(a.includes(e))return!1;switch(e){case c.THREE_IN_A_ROW:return this.getAllIndecesForStraight(t,3).length>0;case c.FOUR_IN_A_ROW:return this.getAllIndecesForStraight(t,4).length>0;case c.FIVE_IN_A_ROW:return this.getAllIndecesForStraight(t,5).length>0;case c.THREE_OF_A_KIND:return this.getAllIndecesForSets(t,3).length>0;case c.FULL_HOUSE:return this.isFullHouse(t);default:return!1}}},{key:"isValidIndexForToken",value:function(e,t,a){var r=[];switch(e){case c.THREE_IN_A_ROW:r=this.getAllIndecesForStraight(t,3);for(var n=0;n<r.length;n++)if(a===r[n][0])return!0;return!1;case c.FOUR_IN_A_ROW:r=this.getAllIndecesForStraight(t,4);for(var s=0;s<r.length;s++)if(a===r[s][0])return!0;return!1;case c.FIVE_IN_A_ROW:r=this.getAllIndecesForStraight(t,5);for(var i=0;i<r.length;i++)if(a===r[i][0])return!0;return!1;case c.THREE_OF_A_KIND:r=this.getAllIndecesForSets(t,3);for(var o=0;o<r.length;o++)if(r[o].includes(a))return!0;return!1;case c.FULL_HOUSE:return this.isFullHouse(t);default:return!1}}},{key:"getAllIndecesForToken",value:function(e,t){return t===c.THREE_IN_A_ROW?this.getAllIndecesForStraight(e,3):t===c.FOUR_IN_A_ROW?this.getAllIndecesForStraight(e,4):t===c.FIVE_IN_A_ROW?this.getAllIndecesForStraight(e,5):t===c.THREE_OF_A_KIND?this.getAllIndecesForSets(e,3):t===c.FULL_HOUSE&&this.isFullHouse(e)?[[0,1,2,3,4]]:[]}},{key:"getAllIndecesForStraight",value:function(e,t){for(var a=6-t,r=[],n=0;n<a;n++){var s=[];if(e[n].seen){s.push(n);var c=e[n].value;e[n].value===i.WILD&&(c=e[n+1].value-1);for(var o=n+1;o<t+n&&e[o].seen;o++)e[o].value!==c+1&&e[o].value!==i.WILD||(s.push(o),c++);s.length===t&&r.push(s)}}return r}},{key:"getAllIndecesForSets",value:function(e,t){for(var a=[],r={},n=0;n<5;n++)e[n].seen&&(r[e[n].value]||(r[e[n].value]=[]),r[e[n].value].push(n));var s=[];r[i.WILD]&&(s=r[i.WILD]);for(var c=0,o=Object.keys(r);c<o.length;c++){var l=o[c];l===i.WILD?r[l].length>=t&&a.push(r[l]):r[l].length+s.length>=t&&a.push(r[l].concat(s))}return a}},{key:"isFullHouse",value:function(e){for(var t={},a=0;a<5;a++){if(!e[a].seen)return!1;if(t[e[a].value]||(t[e[a].value]=[]),Object.keys(t).length>3||3===Object.keys(t).length&&!Object.keys(t).includes(i.WILD))return!1;t[e[a].value].push(a)}if(t[i.WILD])return t[i.WILD].length>=2||1===t[i.WILD].length&&3===Object.keys(t).length;var r=t[Object.keys(t)[0]].length,n=t[Object.keys(t)[1]].length;return 3===r&&2===n||2===r&&3===n}}]),e}()},function(e,t,a){"use strict";a.r(t);var r=a(1),n=a.n(r),s=a(18),c=a.n(s),i=(a(46),a(47),a(3)),o=a(5),l=a(7),d=a(6),u=a(4),h=(a(48),a(0)),v=a(26),m=a(12).MoveState,g=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(i.a)(this,a),(r=t.call(this,e)).render=function(){return Object(h.jsxs)("div",{className:"PlayerHand","data-testid":"hand",children:[Object(h.jsx)("div",{"data-testid":"player-header",className:"PlayerHeader",name:"Player1",children:Object(h.jsxs)("p",{className:"playerTag",children:["Player ",r.props.id+1]})}),Object(h.jsx)("div",{className:"PlayerTokenHeader",children:Object(h.jsxs)("p",{className:"playerTag","data-testid":"hand-player-tokens",children:["Tokens [",r.tokens.length,"/",r.props.configService.getNumberOfTokensNeededToWin(),"]"]})}),r.deck.map((function(e,t){return Object(h.jsx)("div",{className:"PlayerCardWrapper",children:Object(h.jsx)("div",{className:v("PlayerCard",{PlayerCardBack:!e.seen},{PlayerCardFront:e.seen},{PlayerCardIsActive:r.cardCanBePressed(e,t)}),"data-testid":"player-card",onClick:function(){return r.props.cardPressedCallback(r.props.id,t)},children:e.seen?e.value:Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:Object(h.jsx)("path",{d:"M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm1.25 17c0 .69-.559 1.25-1.25 1.25-.689 0-1.25-.56-1.25-1.25s.561-1.25 1.25-1.25c.691 0 1.25.56 1.25 1.25zm1.393-9.998c-.608-.616-1.515-.955-2.551-.955-2.18 0-3.59 1.55-3.59 3.95h2.011c0-1.486.829-2.013 1.538-2.013.634 0 1.307.421 1.364 1.226.062.847-.39 1.277-.962 1.821-1.412 1.343-1.438 1.993-1.432 3.468h2.005c-.013-.664.03-1.203.935-2.178.677-.73 1.519-1.638 1.536-3.022.011-.924-.284-1.719-.854-2.297z"})})})},t)})),Object(h.jsx)("div",{className:"PlayerTokens",children:r.tokens.map((function(e,t){return Object(h.jsx)("div",{className:"PlayerToken","data-testid":"player-token",children:e},t)}))})]})},r.TableCanvas=n.a.createRef(),r.render.bind(Object(u.a)(r)),r.deck=r.props.playerService.getPlayers()[r.props.id].getDeck(),r.tokens=r.props.playerService.getPlayers()[r.props.id].getTokens(),r}return Object(o.a)(a,[{key:"cardCanBePressed",value:function(e,t){return this.props.id===this.props.gameService.getGameState().getActivePlayerIndex()&&([m.TURN_FACE_UP_CHOSEN,m.TURN_FACE_UP_IN_PROGRESS].includes(this.props.moveState)&&!e.seen||m.SWAP_IN_PROGRESS===this.props.moveState&&this.props.gameService.getGameState().getSwapCardIndex()!==t||[m.CARD_DRAWN,m.SWAP_CHOSEN,m.CLAIMING_TOKEN].includes(this.props.moveState))}}]),a}(r.Component),b=(a(50),a(12)),S=b.DrawType,f=b.MoveState,O=a(26),j=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(i.a)(this,a),(r=t.call(this,e)).render=function(){return Object(h.jsxs)("div",{className:"DeckAndDiscardSection","data-testid":"middle-section",children:[r.gameService.getGameState().getDiscard().map((function(e,t){return Object(h.jsxs)("div",{className:"DiscardSection",children:[Object(h.jsx)("div",{className:"FullWidth","data-testid":"discard-header",children:"Discard"}),Object(h.jsx)("div",{className:"PlayerCardWrapper",children:Object(h.jsx)("div",{className:O("PlayerCard","PlayerCardFront",{PlayerCardIsActive:r.highlightDiscard()}),"data-testid":"discard-pile-"+t,onClick:function(){r.props.drawCallback(S.DISCARD,t)},children:r.getTopDiscardValue(t)})})]},t)})),Object(h.jsxs)("div",{className:"DeckSection",children:[Object(h.jsx)("div",{className:"FullWidth","data-testid":"deck-header",children:"Deck"}),Object(h.jsx)("div",{className:O("PlayerCard","PlayerCardBack",{PlayerCardIsActive:r.highlightDeck()}),"data-testid":"deck-pile-0",onClick:function(){r.props.drawCallback(S.DECK)},children:Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:Object(h.jsx)("path",{d:"M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm1.25 17c0 .69-.559 1.25-1.25 1.25-.689 0-1.25-.56-1.25-1.25s.561-1.25 1.25-1.25c.691 0 1.25.56 1.25 1.25zm1.393-9.998c-.608-.616-1.515-.955-2.551-.955-2.18 0-3.59 1.55-3.59 3.95h2.011c0-1.486.829-2.013 1.538-2.013.634 0 1.307.421 1.364 1.226.062.847-.39 1.277-.962 1.821-1.412 1.343-1.438 1.993-1.432 3.468h2.005c-.013-.664.03-1.203.935-2.178.677-.73 1.519-1.638 1.536-3.022.011-.924-.284-1.719-.854-2.297z"})})})]})]})},r.TableCanvas=n.a.createRef(),r.render.bind(Object(u.a)(r)),r.gameService=e.gameService,r}return Object(o.a)(a,[{key:"getTopDiscardValue",value:function(e){var t=this.gameService.getGameState().getDiscard()[e];return t.length>0?t[t.length-1].value:""}},{key:"highlightDeck",value:function(){return this.props.moveState===f.START_STATE}},{key:"highlightDiscard",value:function(){return[f.START_STATE,f.DISCARD_CHOSEN].includes(this.props.moveState)}}]),a}(r.Component),p=(a(51),a(52),a(12)),k=p.ActionType,C=p.TokenType,N=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(i.a)(this,a),(r=t.call(this,e)).ShowToken=function(e){return r.tokenService.canClaimToken(e,r.gameService.getActivePlayersDeck(),r.gameService.getActivePlayersTokens())},r.render=function(){return Object(h.jsxs)("div",{className:"claim-token-section","data-testid":"claim-token-section",children:[r.ShowToken(C.THREE_IN_A_ROW)&&Object(h.jsx)("div",{children:Object(h.jsx)("button",{onClick:function(){return r.props.buttonPressedCallback(k.CLAIM_TOKEN,C.THREE_IN_A_ROW)},children:" THREE IN A ROW "})}),r.ShowToken(C.FOUR_IN_A_ROW)&&Object(h.jsx)("div",{children:Object(h.jsx)("button",{onClick:function(){return r.props.buttonPressedCallback(k.CLAIM_TOKEN,C.FOUR_IN_A_ROW)},children:" FOUR IN A ROW "})}),r.ShowToken(C.FIVE_IN_A_ROW)&&Object(h.jsx)("div",{children:Object(h.jsx)("button",{onClick:function(){return r.props.buttonPressedCallback(k.CLAIM_TOKEN,C.FIVE_IN_A_ROW)},children:" FIVE IN A ROW "})}),r.ShowToken(C.THREE_OF_A_KIND)&&Object(h.jsx)("div",{children:Object(h.jsx)("button",{onClick:function(){return r.props.buttonPressedCallback(k.CLAIM_TOKEN,C.THREE_OF_A_KIND)},children:" THREE OF A KIND "})}),r.ShowToken(C.FULL_HOUSE)&&Object(h.jsx)("div",{children:Object(h.jsx)("button",{onClick:function(){return r.props.buttonPressedCallback(k.CLAIM_TOKEN,C.FULL_HOUSE)},children:" FULL HOUSE "})}),Object(h.jsx)("div",{className:"FullWidth",children:Object(h.jsx)("button",{className:"mb-2 FullWidth",onClick:function(){r.props.buttonPressedCallback(k.CHANGE_TURN)},children:" Pass "})})]})},r.gameService=e.gameService,r.tokenService=e.tokenService,r.TableCanvas=n.a.createRef(),r.render.bind(Object(u.a)(r)),r}return a}(r.Component),T=(a(53),a(12)),A=T.ActionType,_=T.MoveState,y=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(i.a)(this,a),(r=t.call(this,e)).showActiveCard=function(){return!!r.gameService.getGameState().getActiveCard()&&!!r.gameService.getGameState().getActiveCard().value},r.showCardActionButtons=function(){return r.props.moveState===_.CARD_DRAWN},r.showTurnUpAction=function(){return!r.gameService.activePlayerHasAllCardsFaceUp()},r.showPassActions=function(){return r.props.moveState!==_.DISCARD_CHOSEN},r.render=function(){return Object(h.jsxs)("div",{className:"player-turn-action-section","data-testid":"player-turn-action-section",children:[r.showActiveCard()&&Object(h.jsx)("div",{className:"PlayerCard PlayerCardFront","data-testid":"footer-active-card",children:r.gameService.getGameState().getActiveCard().value}),r.showCardActionButtons()&&Object(h.jsxs)("div",{children:[Object(h.jsx)("button",{className:"swapButton",onClick:function(){r.props.buttonPressedCallback(A.SWAP)},children:" Discard to swap two "}),r.showTurnUpAction()&&Object(h.jsx)("button",{className:"turnFaceUpButton","data-testid":"turn-face-up-button",onClick:function(){r.props.buttonPressedCallback(A.TURN_FACE_UP)},children:" Discard to turn two face up "})]}),r.showPassActions()&&Object(h.jsx)("div",{className:"FullWidth",children:Object(h.jsx)("button",{className:"mb-2 FullWidth",onClick:function(){r.props.buttonPressedCallback(A.PASS)},children:" Pass "})})]})},r.gameService=e.gameService,r.TableCanvas=n.a.createRef(),r.render.bind(Object(u.a)(r)),r}return a}(r.Component),x=a(12).MoveState,P=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(i.a)(this,a),(r=t.call(this,e)).ShowCardActionsSection=function(){return[x.CARD_DRAWN,x.TURN_FACE_UP_CHOSEN,x.TURN_FACE_UP_IN_PROGRESS,x.SWAP_CHOSEN,x.SWAP_IN_PROGRESS,x.DISCARD_CHOSEN].includes(r.props.moveState)},r.ShowEndActions=function(){return r.props.moveState===x.PRE_END_STATE},r.render=function(){return Object(h.jsxs)("div",{className:"CardTableFooter","data-testid":"footer-section",children:[r.ShowCardActionsSection()&&Object(h.jsx)(y,{gameService:r.props.gameService,moveState:r.props.moveState,buttonPressedCallback:r.props.buttonPressedCallback}),r.ShowEndActions()&&Object(h.jsx)(N,{gameService:r.props.gameService,tokenService:r.props.tokenService,buttonPressedCallback:r.props.buttonPressedCallback})]})},r.gameService=e.gameService,r.tokenService=e.tokenService,r.TableCanvas=n.a.createRef(),r.render.bind(Object(u.a)(r)),r}return a}(r.Component),R=(a(54),a(55),a(56),function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(i.a)(this,a),(r=t.call(this,e)).render.bind(Object(u.a)(r)),r.numberOfTokensNeededToWin=r.props.numberOfTokensNeededToWin,r.maxTokens=r.props.maxTokens,r}return Object(o.a)(a,[{key:"render",value:function(){return Object(h.jsx)("div",{children:Object(h.jsx)("div",{className:"scroll-component",children:Object(h.jsx)("div",{className:"scroll-content",children:Object(h.jsxs)("div",{className:"rulesSection","data-testid":"rules-section",children:[Object(h.jsx)("div",{className:"secondary-background rulesSectionContent",children:Object(h.jsx)("h3",{className:"rules-header",children:"Rules"})}),Object(h.jsxs)("div",{className:"secondary-background rulesSectionContent",children:[Object(h.jsx)("h4",{className:"rules-header",children:"Introduction"}),Object(h.jsx)("p",{className:"rules-p",children:"Welcome to Straight 5, a rummy-like, yahtzee-like card game! This is the (work-in-progress) digitial version of the (hopefully future) Straight 5 game. "})]}),Object(h.jsxs)("div",{className:"primary-background rulesSectionContent",children:[Object(h.jsx)("h4",{className:"rules-header",children:"Winning"}),Object(h.jsxs)("p",{className:"rules-p","data-testid":"tokens-to-win",children:["The first player to claim ",this.numberOfTokensNeededToWin," out of ",this.maxTokens," tokens below wins."]}),Object(h.jsxs)("ul",{children:[Object(h.jsx)("li",{children:"Three in a row"}),Object(h.jsx)("li",{children:"Four in a row"}),Object(h.jsx)("li",{children:"Five in a row"}),Object(h.jsx)("li",{children:"Three of a kind"}),Object(h.jsx)("li",{children:"Full House"})]})]}),Object(h.jsxs)("div",{className:"secondary-background rulesSectionContent",children:[Object(h.jsx)("h4",{className:"rules-header",children:"Set up"}),Object(h.jsx)("p",{className:"rules-p",children:"Each player begins with 5 cards face-down in front of them. The top card of the deck will be turned over as a discard"})]}),Object(h.jsxs)("div",{className:"primary-background rulesSectionContent",children:[Object(h.jsx)("h4",{className:"rules-header",children:"Turn Order"}),Object(h.jsx)("p",{className:"rules-p",children:"Each consists of four phases:"}),Object(h.jsxs)("ol",{children:[Object(h.jsxs)("li",{children:[Object(h.jsx)("h4",{className:"phaseHeader",children:"Draw Phase:"})," draw the top card of the deck or discard piles"]}),Object(h.jsxs)("li",{children:[Object(h.jsx)("h4",{className:"phaseHeader",children:"Play Phase:"}),Object(h.jsxs)("ul",{children:[Object(h.jsx)("li",{children:" Place card in front of you or; "}),Object(h.jsx)("li",{children:" Take one of the following actions:  "}),Object(h.jsxs)("ul",{children:[Object(h.jsx)("li",{children:" Turn up to two cards face-up"}),Object(h.jsx)("li",{children:" Swap any two cards "})]})]})]}),Object(h.jsxs)("li",{children:[Object(h.jsx)("h4",{className:"phaseHeader",children:"Discard Phase:"})," discard active card to one of the discard piles (your choice)"]}),Object(h.jsxs)("li",{children:[Object(h.jsx)("h4",{className:"phaseHeader",children:"Claim Token Phase"}),": Claim a token by discarding the required cards (e.g. 1 2 3 4 for Four In a Row)."]})]})]}),Object(h.jsxs)("div",{className:"secondary-background rulesSectionContent",children:[Object(h.jsx)("h4",{className:"rules-header",children:"Rule Clarifications"}),Object(h.jsx)("p",{className:"rules-p",children:"Here are some clarifications on rules above:"}),Object(h.jsxs)("ol",{children:[Object(h.jsx)("li",{children:"When you place the drawn card in front of you, you do not get to take another action"}),Object(h.jsxs)("li",{children:["When you discard a card, you get to choose which discard pile it goes into ",Object(h.jsx)("b",{children:"UNLESS"})," a discard pile has 0 cards, in which case you must discard it there (and the app will do this automatically)"]}),Object(h.jsx)("li",{children:'If you have only one card face-up and choose to take the "turn up to two cards face up" action. You only get to turn one card face up. '}),Object(h.jsx)("li",{children:"You can only claim each token once"}),Object(h.jsx)("li",{children:"You can only claim one token per turn"}),Object(h.jsx)("li",{children:"The cards to claim the tokens for the straights (3/4/5 in a row) must be adjacent and in ascending order (e.g. 1 2 3 not 3 2 1 or 1 3 2)"}),Object(h.jsx)("li",{children:"The cards to claim the tokens for three of a kind and full house can be anywhere"})]})]})]})})})})}}]),a}(r.Component)),E=a(15),D=a.n(E),I={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",maxWidth:"400px",maxHeight:"80vh"}},w={content:{top:"35%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",maxWidth:"400px",maxHeight:"80vh"}},F=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(i.a)(this,a),(r=t.call(this,e)).maxTokens=5,r.state={modalIsOpen:!1},r.render.bind(Object(u.a)(r)),r}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=function(){e.setState({modalIsOpen:!1})};return Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{className:"open-modal-container",id:"modal-div",children:Object(h.jsx)("div",{className:"open-modal-content",children:Object(h.jsx)("button",{className:"small-width-button","data-testid":"open-modal-button",onClick:function(){e.setState({modalIsOpen:!0})},children:"Rules"})})}),Object(h.jsxs)(D.a,{isOpen:this.state.modalIsOpen,onRequestClose:t,style:I,ariaHideApp:!1,children:[Object(h.jsx)(R,{numberOfTokensNeededToWin:this.props.configService.getNumberOfTokensNeededToWin(),maxTokens:this.maxTokens}),Object(h.jsx)("div",{className:"close-modal-container",children:Object(h.jsx)("div",{className:"close-modal-content",children:Object(h.jsx)("button",{className:"open-modal-button","data-testid":"close-modal-button",onClick:t,children:"close"})})})]})]})}}]),a}(r.Component),G=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(i.a)(this,a),(r=t.call(this,e)).render.bind(Object(u.a)(r)),r}return Object(o.a)(a,[{key:"render",value:function(){return Object(h.jsxs)("div",{className:"straight5-header-container","data-testid":"header-section",children:[Object(h.jsx)("div",{className:"straight5-header-header",children:Object(h.jsx)("h2",{className:"startHeader","data-testid":"start-header",children:"Straight 5"})}),Object(h.jsx)("div",{className:"straight5-header-rulesSection",children:Object(h.jsx)(F,{configService:this.props.configService})})]})}}]),a}(r.Component),W=(a(68),a(69),a(94)),U=a(95),H=a(16),M=Object(H.a)({root:{color:"#52af77",height:8},thumb:{height:24,width:24,backgroundColor:"#fff",border:"2px solid currentColor",marginTop:-8,marginLeft:-12,"&:focus, &:hover, &$active":{boxShadow:"inherit"}},active:{},valueLabel:{left:"calc(-50% + 4px)"},markLabel:{color:"white"},track:{height:8,borderRadius:4},rail:{height:8,borderRadius:4}})(U.a),L=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(i.a)(this,a),(r=t.call(this,e)).render=function(){return Object(h.jsx)(M,{valueLabelDisplay:"on","aria-label":"pretty slider",min:r.props.min,step:r.props.step,max:r.props.max,value:r.props.value,marks:r.props.marks,onChange:r.props.onChange,disabled:r.props.disabled})},r.TableCanvas=n.a.createRef(),r.render.bind(Object(u.a)(r)),r}return a}(r.Component),K=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(i.a)(this,a),(r=t.call(this,e)).marks1=[{value:5,label:"5"},{value:6,label:""},{value:7,label:""},{value:8,label:""},{value:9,label:"9"},{value:10,label:""},{value:11,label:""},{value:12,label:""},{value:13,label:"13"}],r.marks2=[{value:3,label:"3"},{value:4,label:""},{value:5,label:""},{value:6,label:"6"},{value:7,label:""},{value:8,label:""},{value:9,label:"9"}],r.render=function(){return Object(h.jsxs)("div",{className:"configuration-container",children:[Object(h.jsx)(W.a,{id:"discrete-card-range",gutterBottom:!0,children:"Card Range"}),Object(h.jsx)(L,{min:5,step:1,max:13,value:r.configService.getMaxNumberInDeck(),marks:r.marks1,onChange:r.onCardRangeChanged}),Object(h.jsx)(W.a,{id:"discrete-repeats",gutterBottom:!0,children:"Number of repeats"}),Object(h.jsx)(L,{min:3,step:1,max:9,value:r.configService.getRepeatsPerNumber(),marks:r.marks2,onChange:r.onRepeatChanged}),Object(h.jsx)(W.a,{id:"discrete-num-players",gutterBottom:!0,children:"Number of Players"}),Object(h.jsx)(L,{min:2,step:1,max:5,value:r.configService.getNumberOfPlayers(),disabled:!0,marks:!0,onChange:r.onPlayerNumberChanged}),Object(h.jsx)(W.a,{id:"discrete-num-discard-piles",gutterBottom:!0,children:"Number of Discard Piles"}),Object(h.jsx)(L,{min:1,step:1,max:4,value:r.configService.getNumberOfDiscards(),marks:!0,onChange:r.onDiscardNumberChanged}),Object(h.jsx)(W.a,{id:"discrete-num-jokers",gutterBottom:!0,children:"Number of Jokers"}),Object(h.jsx)(L,{min:0,step:1,max:9,value:r.configService.getNumberOfJokers(),marks:!0,onChange:r.onJokerNumberChanged}),Object(h.jsx)(W.a,{id:"discrete-num-tokens-to-win",gutterBottom:!0,children:"Number of Tokens Needed to win"}),Object(h.jsx)(L,{min:1,step:1,max:5,value:r.configService.getNumberOfTokensNeededToWin(),marks:!0,onChange:r.onNumberOfTokensNeededToWinChanged}),Object(h.jsx)("div",{className:"reset-configuration-button",children:Object(h.jsx)("button",{onClick:r.reset,children:"Reset"})})]})},r.TableCanvas=n.a.createRef(),r.render.bind(Object(u.a)(r)),r.configService=r.props.configService,r.onCardRangeChanged=r.onCardRangeChanged.bind(Object(u.a)(r)),r.onRepeatChanged=r.onRepeatChanged.bind(Object(u.a)(r)),r.onPlayerNumberChanged=r.onPlayerNumberChanged.bind(Object(u.a)(r)),r.onDiscardNumberChanged=r.onDiscardNumberChanged.bind(Object(u.a)(r)),r.onJokerNumberChanged=r.onJokerNumberChanged.bind(Object(u.a)(r)),r.onNumberOfTokensNeededToWinChanged=r.onNumberOfTokensNeededToWinChanged.bind(Object(u.a)(r)),r.reset=r.reset.bind(Object(u.a)(r)),r}return Object(o.a)(a,[{key:"onCardRangeChanged",value:function(e,t){this.configService.setMaxNumberInDeck(t),this.forceUpdate()}},{key:"onRepeatChanged",value:function(e,t){this.configService.setRepeatsPerNumber(t),this.forceUpdate()}},{key:"onPlayerNumberChanged",value:function(e,t){this.configService.setNumberOfPlayers(t),this.forceUpdate()}},{key:"onDiscardNumberChanged",value:function(e,t){this.configService.setNumberOfDiscards(t),this.forceUpdate()}},{key:"onJokerNumberChanged",value:function(e,t){this.configService.setNumberOfJokers(t),this.forceUpdate()}},{key:"onNumberOfTokensNeededToWinChanged",value:function(e,t){this.configService.setNumberOfTokensNeededToWin(t),this.forceUpdate()}},{key:"reset",value:function(){this.configService.reset(),this.forceUpdate()}}]),a}(r.Component),B=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(i.a)(this,a),(r=t.call(this,e)).render=function(){return Object(h.jsxs)("div",{className:"start-section-container",children:[Object(h.jsx)("div",{children:Object(h.jsx)("button",{"data-testid":"start-section-hide-show-configuration-button",onClick:function(){r.setState({modalIsOpen:!0})},children:"Show Configuration"})}),Object(h.jsx)(D.a,{isOpen:r.state.modalIsOpen,onRequestClose:function(){r.setState({modalIsOpen:!1})},style:I,ariaHideApp:!1,children:Object(h.jsxs)("div",{className:"configuration-modal-container",children:[Object(h.jsx)("h2",{className:"mb-4",children:"Configuration Settings"}),Object(h.jsx)("div",{className:"start-section-slider-container","data-testid":"start-section-slider-container",children:Object(h.jsx)(K,{configService:r.props.configService})}),Object(h.jsx)("div",{className:"close-modal-container",children:Object(h.jsx)("div",{className:"close-modal-content",children:Object(h.jsx)("button",{className:"open-modal-button","data-testid":"close-modal-button",onClick:r.props.startNewGameCallback,children:"Start New Game"})})})]})}),Object(h.jsx)("div",{className:"mb-4 mt-2",children:Object(h.jsx)("button",{className:"small-width-button","data-testid":"startButton",onClick:r.props.startNewGameCallback,children:"Start New Game"})})]})},r.TableCanvas=n.a.createRef(),r.state={modalIsOpen:!1},r.render.bind(Object(u.a)(r)),r}return a}(r.Component),V=(a(72),a(32).getPlayerTextForMoveState),J=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(i.a)(this,a),(r=t.call(this,e)).render=function(){return Object(h.jsx)(n.a.Fragment,{children:Object(h.jsxs)("div",{className:"newsTicker","data-testid":"newsticker",children:[Object(h.jsx)("div",{className:"newsTickerTriangleLeft"}),Object(h.jsx)("div",{className:"newsTickerMain",children:V(r.props.moveState,r.props.gameState.getSwapCardIndex()+1)}),Object(h.jsx)("div",{className:"newsTickerTriangleRight"})]})})},r.TableCanvas=n.a.createRef(),r.render.bind(Object(u.a)(r)),r}return a}(r.Component),z=(a(73),a(12)),Y=z.ActionType,q=z.AppMode,$=z.DrawType,Q=z.MoveState,X=z.TokenType,Z=a(26),ee=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(i.a)(this,a),(r=t.call(this,e)).StartNewGame=function(){r.playerService.resetPlayers(),r.gameService.startNewGame(),r.setState({MoveState:Q.START_STATE,AppMode:q.GAME})},r.deckAndDiscardPressed=function(e,t){r.state.MoveState===Q.START_STATE?(e===$.DECK?r.gameService.drawCardFromDeck():e===$.DISCARD?r.gameService.drawCardFromDiscard(t):console.error("draw card failed",e),r.setState({MoveState:Q.CARD_DRAWN})):r.state.MoveState===Q.DISCARD_CHOSEN&&e===$.DISCARD&&r.handleDiscard(t)},r.ReplaceCard=function(e){r.gameService.replaceCard(e)},r.TurnCardFaceUp=function(e){if(r.gameService.turnCardFaceUp(e))return r.state.MoveState===Q.TURN_FACE_UP_IN_PROGRESS||r.gameService.activePlayerHasAllCardsFaceUp()?r.setDiscardChosenState():void r.setState({MoveState:Q.TURN_FACE_UP_IN_PROGRESS})},r.SwapCards=function(e){if(r.gameService.swapIsValid(e))return r.gameService.swapCards(e),r.setDiscardChosenState();r.gameState.setSwapCardIndex(e),r.setState({MoveState:Q.SWAP_IN_PROGRESS})},r.EndMove=function(){r.tokenService.playerCanClaimToken(r.playerService.getPlayers()[r.gameState.getActivePlayerIndex()])?r.setState({MoveState:Q.PRE_END_STATE}):r.ChangeTurn()},r.ClaimTokenCardPress=function(e){if(r.tokenService.isValidIndexForToken(r.gameState.getTokenToClaim(),r.gameService.getActivePlayersDeck(),e)){if(r.gameService.claimToken(e),!r.checkIfWinner())return r.ChangeTurn()}else console.error("invalid index :(")},r.ChangeTurn=function(){return r.gameService.nextPlayer(),r.setState({MoveState:Q.CHANGE_TURN_STATE})},r.handleActionButtonPressed=function(e,t){if(e===Y.PASS)return r.state.MoveState===Q.CARD_DRAWN?r.setDiscardChosenState():r.EndMove();if(e===Y.SWAP)return r.setState({MoveState:Q.SWAP_CHOSEN});if(e===Y.TURN_FACE_UP)return r.setState({MoveState:Q.TURN_FACE_UP_CHOSEN});if(e===Y.CHANGE_TURN)return r.ChangeTurn();if(e===Y.CLAIM_TOKEN){r.gameState.setTokenToClaim(t);var a=r.tokenService.getAllIndecesForToken(r.gameService.getActivePlayersDeck(),t);if((1===a.length||t===X.FULL_HOUSE||t===X.THREE_OF_A_KIND)&&(r.gameService.claimToken(a[0][0]),!r.checkIfWinner()))return r.ChangeTurn();r.setState({MoveState:Q.CLAIMING_TOKEN})}},r.handlePlayerCardPressed=function(e,t){if(e===r.gameState.getActivePlayerIndex())switch(r.state.MoveState){case Q.CARD_DRAWN:return r.ReplaceCard(t),void r.setDiscardChosenState(Y.REPLACE_CARD);case Q.TURN_FACE_UP_CHOSEN:case Q.TURN_FACE_UP_IN_PROGRESS:r.TurnCardFaceUp(t);break;case Q.SWAP_CHOSEN:case Q.SWAP_IN_PROGRESS:r.SwapCards(t);break;case Q.CLAIMING_TOKEN:r.ClaimTokenCardPress(t);break;default:console.log("No action for this status",r.state.MoveState)}else console.log("card from wrong player clicked")},r.render=function(){var e=function(){r.setState({MoveState:Q.START_STATE})};return Object(h.jsxs)(n.a.Fragment,{children:[Object(h.jsxs)("div",{className:Z("CardTable",{CardTableGame:r.state.AppMode===q.GAME}),children:[Object(h.jsx)(G,{configService:r.configService}),r.state.AppMode===q.START_STATE&&Object(h.jsx)(n.a.Fragment,{children:Object(h.jsx)(B,{startNewGameCallback:r.StartNewGame,configService:r.configService})}),r.state.AppMode===q.GAME&&Object(h.jsxs)(n.a.Fragment,{children:[Object(h.jsx)(g,{gameService:r.gameService,configService:r.configService,moveState:r.state.MoveState,playerService:r.playerService,id:0,cardPressedCallback:r.handlePlayerCardPressed}),Object(h.jsx)(j,{gameService:r.gameService,drawCallback:r.deckAndDiscardPressed,moveState:r.state.MoveState}),Object(h.jsx)(g,{gameService:r.gameService,configService:r.configService,moveState:r.state.MoveState,playerService:r.playerService,id:1,cardPressedCallback:r.handlePlayerCardPressed})]}),r.state.AppMode===q.PLAYER_WIN&&Object(h.jsx)(n.a.Fragment,{children:Object(h.jsxs)("div",{className:"mb-4","data-testid":"win-header",children:["Congratulations to Player ",r.gameState.getActivePlayerIndex()+1,Object(h.jsx)(B,{startNewGameCallback:r.StartNewGame,configService:r.configService})]})})]}),r.state.AppMode===q.GAME&&Object(h.jsxs)(n.a.Fragment,{children:[r.state.AppMode===q.GAME&&Object(h.jsx)(J,{gameState:r.gameState,moveState:r.state.MoveState}),r.state.AppMode===q.GAME&&Object(h.jsx)(P,{gameService:r.gameService,moveState:r.state.MoveState,tokenService:r.tokenService,buttonPressedCallback:r.handleActionButtonPressed})]}),Object(h.jsxs)(D.a,{isOpen:r.state.MoveState===Q.CHANGE_TURN_STATE,onRequestClose:e,style:w,ariaHideApp:!1,children:[Object(h.jsxs)("h1",{className:"change-turn-modal-title","data-testid":"change-turn-modal-title",children:[" Player ",r.gameState.getActivePlayerIndex()+1," Turn"]}),Object(h.jsx)("button",{"data-testid":"change-turn-modal-title-button",hidden:!0,onClick:e,children:"Hide"})]})]})},r.state={AppMode:q.START_STATE,MoveState:Q.START_STATE},r.playerService=e.playerService,r.gameService=e.gameService,r.gameState=e.gameState,r.configService=e.configService,r.tokenService=e.tokenService,r}return Object(o.a)(a,[{key:"handleDiscard",value:function(e,t){this.gameService.discardCard(e),this.EndMove()}},{key:"checkIfWinner",value:function(){return this.gameService.getActivePlayersTokens().length>=this.configService.getNumberOfTokensNeededToWin()&&(this.setState({AppMode:q.PLAYER_WIN}),!0)}},{key:"setDiscardChosenState",value:function(){var e=this.gameService.discardPileHas0Cards();e>=0?this.handleDiscard(e):this.setState({MoveState:Q.DISCARD_CHOSEN})}}]),a}(r.Component),te=a(74).GameState,ae=a(75).GameService,re=a(76).PlayerService,ne=a(78).ConfigService,se=a(79).TokenService;var ce=function(){var e=new ne;e.reset();var t=new re(e),a=new se,r=new te,n=new ae(t,a,e,r);return Object(h.jsx)("div",{className:"App",children:Object(h.jsx)("header",{children:Object(h.jsx)("div",{className:"Container",children:Object(h.jsx)(ee,{playerService:t,gameService:n,configService:e,tokenService:a,gameState:r})})})})},ie=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,97)).then((function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,s=t.getLCP,c=t.getTTFB;a(e),r(e),n(e),s(e),c(e)}))};c.a.render(Object(h.jsx)(n.a.StrictMode,{children:Object(h.jsx)(ce,{})}),document.getElementById("root")),ie()}],[[80,1,2]]]);
//# sourceMappingURL=main.360496e3.chunk.js.map
{"version":3,"sources":["model/Enums.js","Utils.js","model/GameState.js","service/GameService.js","service/PlayerService.js","model/Player.js","service/ConfigService.js","service/TokenService.js","components/game/Hand.js","components/game/MiddleSection.js","components/game/FooterSection.js","components/RulesSection.js","components/game/NewstickerSection.js","components/Straight5.js","App.js","reportWebVitals.js","index.js"],"names":["ActionType","PASS","SWAP","CHANGE_TURN","TURN_FACE_UP","CLAIM_TOKEN","REPLACE_CARD","AppMode","START_STATE","GAME","PLAYER_WIN","DrawType","DECK","DISCARD","MoveState","CARD_DRAWN","DISCARD_CHOSEN","TURN_FACE_UP_CHOSEN","TURN_FACE_UP_IN_PROGRESS","SWAP_CHOSEN","SWAP_IN_PROGRESS","PRE_END_STATE","CLAIMING_TOKEN","TokenType","THREE_IN_A_ROW","FOUR_IN_A_ROW","FIVE_IN_A_ROW","THREE_OF_A_KIND","FULL_HOUSE","require","shuffleArray","array","i","length","j","Math","floor","random","getPlayerTextForMoveState","moveState","cardIndex","GameState","this","deck","discard","swapCardIndex","activeCard","activePlayerIndex","tokenToClaim","GameService","playerService","tokenService","configService","gameState","repeats","getRepeatsPerNumber","max","getMaxNumberInDeck","getGameState","setDeck","getDeck","push","value","seen","getDiscard","splice","card","pop","setActiveCard","getTopCardFromDeck","index","console","error","getNumberOfDiscards","setDiscard","getSwapCardIndex","playerCards","getActivePlayersDeck","temp","setSwapCardIndex","getActiveCard","discardIndex","createDeck","dealCardsToPlayers","initializeDiscard","setActivePlayerIndex","setTokenToClaim","getActivePlayerIndex","getNumberOfPlayers","hand","getTokenToClaim","indeces","getAllIndecesForSets","getActivePlayersTokens","playerDeck","getPlayers","getTokens","Player","PlayerService","players","resetPlayers","tokens","ConfigService","maxNumberInDeck","repeatsPerNumber","numberOfPlayers","numberOfDiscards","TokenService","player","canClaimToken","token","existing_tokens","includes","getAllIndecesForStraight","indecesForFullHouse","possibleIndeces","straight_length","count_options_to_make_straight_length","possible_combinations","set_length","returnArray","map","Object","keys","key","classNames","Hand","props","render","className","role","name","id","cardCanBePressed","onClick","cardPressedCallback","xmlns","width","height","viewBox","d","TableCanvas","React","createRef","bind","gameService","Component","MiddleSection","highlightDiscard","drawCallback","getTopDiscardValue","highlightDeck","FooterSection","ShowCardActions","ShowTurnUpAction","activePlayerHasAllCardsFaceUp","ShowEndActions","ShowToken","showInitialActions","Fragment","buttonPressedCallback","targetTokens","maxTokens","href","NewstickerSection","Straight5","StartNewGame","startNewGame","setState","deckAndDiscardPressed","type","state","drawCardFromDeck","drawCardFromDiscard","handleDiscard","InterruptedActionType","ReplaceCard","replaceCard","TurnCardFaceUp","turnCardFaceUp","EndMove","SwapCards","swapIsValid","swapCards","playerCanClaimToken","ChangeTurn","ClaimTokenCardPress","isValidIndexForToken","claimToken","checkIfWinner","nextPlayer","handleActionButtonPressed","action","setDiscardChosenState","getAllIndecesForToken","handlePlayerCardPressed","log","discardCard","discardPileHas0Cards","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"2GAAA,uNAAO,IAAMA,EAAa,CACxBC,KAAM,OACNC,KAAM,OACNC,YAAa,cACbC,aAAc,eACdC,YAAa,cACbC,aAAc,gBAGHC,EAAU,CACrBC,YAAa,cACbC,KAAM,OACNC,WAAY,cAGDC,EAAW,CACtBC,KAAM,OACNC,QAAS,WAGEC,EAAY,CACvBN,YAAc,cACdO,WAAY,aACZC,eAAgB,iBAChBC,oBAAqB,sBACrBC,yBAA0B,2BAC1BC,YAAa,cACbC,iBAAkB,mBAClBC,cAAe,gBACfC,eAAgB,kBAGLC,EAAY,CACvBC,eAAgB,iBAChBC,cAAe,gBACfC,cAAe,gBACfC,gBAAiB,kBACjBC,WAAY,e,+BCrCd,kHAAOd,EAAae,EAAQ,GAArBf,UAEP,SAASgB,EAAaC,GACpB,IAAK,IAAIC,EAAID,EAAME,OAAS,EAAGD,EAAI,EAAGA,IAAK,CACzC,IAAME,EAAIC,KAAKC,MAAMD,KAAKE,UAAYL,EAAI,IADD,EAElB,CAACD,EAAMG,GAAIH,EAAMC,IAAvCD,EAAMC,GAFkC,KAE9BD,EAAMG,GAFwB,KAI3C,OAAOH,EAGT,SAASO,EAA0BC,EAAWC,GAC5C,OAAQD,GACN,KAAKzB,EAAUN,YACb,MAAO,0CACT,KAAKM,EAAUC,WACb,MAAO,uDACT,KAAKD,EAAUG,oBACb,MAAO,wCACT,KAAKH,EAAUI,yBACb,MAAO,iDACT,KAAKJ,EAAUK,YACb,MAAO,4CACT,KAAKL,EAAUM,iBACb,MAAO,YAAcoB,EAAY,wCACnC,KAAK1B,EAAUO,cACb,MAAO,yCACT,KAAKP,EAAUQ,eACb,MAAO,2CACT,KAAKR,EAAUE,eACb,MAAO,uEACT,QACE,MAAO,4B,uPC/BPyB,E,WAEJ,aAAe,oBACbC,KAAKC,KAAO,GACZD,KAAKE,QAAU,CAAC,IAChBF,KAAKG,eAAiB,EACtBH,KAAKI,WAAa,GAClBJ,KAAKK,kBAAoB,EACzBL,KAAKM,aAAe,G,2CAGtB,WACE,OAAON,KAAKC,O,wBAGd,WACE,OAAOD,KAAKE,U,8BAGd,WACE,OAAOF,KAAKG,gB,2BAGd,WACE,OAAOH,KAAKI,a,kCAGd,WACE,OAAOJ,KAAKK,oB,6BAGd,WACE,OAAOL,KAAKM,e,qBAGd,SAAQL,GACND,KAAKC,KAAOA,I,wBAGd,SAAWC,GACTF,KAAKE,QAAUA,I,8BAGjB,SAAiBC,GACfH,KAAKG,cAAgBA,I,2BAGvB,SAAcC,GACZJ,KAAKI,WAAaA,I,kCAGpB,SAAqBC,GACnBL,KAAKK,kBAAoBA,I,6BAG3B,SAAgBC,GACdN,KAAKM,aAAeA,M,gHCxDhBlB,EAAiBD,EAAQ,IAAzBC,aACAP,EAAcM,EAAQ,GAAtBN,UACF0B,E,WAEJ,WAAYC,EAAeC,EAAcC,EAAeC,GAAY,oBAChEX,KAAKQ,cAAgBA,EACrBR,KAAKS,aAAeA,EACpBT,KAAKU,cAAgBA,EACrBV,KAAKW,UAAaA,E,8CAGtB,WACE,IAAMC,EAAUZ,KAAKU,cAAcG,sBAC7BC,EAAMd,KAAKU,cAAcK,qBAC/Bf,KAAKgB,eAAeC,QAAQ,IAC5B,IAAK,IAAI3B,EAAI,EAAGA,EAAIsB,EAAStB,IAC3B,IAAK,IAAIE,EAAI,EAAGA,EAAIsB,EAAKtB,IACvBQ,KAAKgB,eAAeE,UAAUC,KAAK,CAACC,MAAO5B,EAAE,EAAG6B,MAAM,IAG1DjC,EAAaY,KAAKgB,eAAeE,a,gCAGnC,WACE,GAA6C,IAAzClB,KAAKgB,eAAeE,UAAU3B,OAAc,CAC9CS,KAAKgB,eAAeC,QAAQ,IAC5B,IAAI,IAAI3B,EAAI,EAAGA,EAAIU,KAAKgB,eAAeM,aAAa/B,OAAQD,IAAM,CAAC,IAAD,GAChE,EAAAU,KAAKgB,eAAeE,WAAUC,KAA9B,oBAAsCnB,KAAKgB,eAAeM,aAAahC,GAAGiC,OAAO,EAAGvB,KAAKgB,eAAeM,aAAahC,GAAGC,OAAS,KAEnIH,EAAaY,KAAKgB,eAAeE,WAEnC,IAAMM,EAAOxB,KAAKgB,eAAeE,UAAUO,MAE3C,OADAD,EAAKH,MAAO,EACLG,I,8BAGT,WACExB,KAAKgB,eAAeU,cAAc1B,KAAK2B,wB,iCAGzC,SAAoBC,GACqC,IAAnD5B,KAAKgB,eAAeM,aAAaM,GAAOrC,QAC1CsC,QAAQC,MAAM,4CAEhB9B,KAAKgB,eAAeU,cAAc1B,KAAKgB,eAAeM,aAAaM,GAAOH,S,kCAG5E,WACE,IAAK,IAAInC,EAAI,EAAGA,EAAIU,KAAKU,cAAcqB,sBAAuBzC,IAC5D,GAAmD,IAA/CU,KAAKgB,eAAeM,aAAahC,GAAGC,OACtC,OAAOD,EAGX,OAAQ,I,+BAGV,WACEU,KAAKgB,eAAegB,WAAW,IAC/B,IAAK,IAAI1C,EAAI,EAAGA,EAAIU,KAAKU,cAAcqB,sBAAuBzC,IAC5DU,KAAKgB,eAAeM,aAAaH,KAAK,IACtCnB,KAAKgB,eAAeM,aAAahC,GAAG6B,KAAKnB,KAAKgB,eAAeE,UAAUO,S,yBAI3E,SAAYG,GACV,OAAO5B,KAAKgB,eAAeiB,mBAAqB,GAAKjC,KAAKgB,eAAeiB,qBAAuBL,I,uBAGlG,SAAUA,GACR,IAAMM,EAAclC,KAAKmC,uBACnBC,EAAOF,EAAYN,GACzBM,EAAYN,GAASM,EAAYlC,KAAKgB,eAAeiB,oBACrDC,EAAYlC,KAAKgB,eAAeiB,oBAAsBG,EACtDpC,KAAKgB,eAAeqB,kBAAkB,K,yBAGxC,SAAYT,GACV,IAAMQ,EAAOpC,KAAKmC,uBAAuBP,GACzC5B,KAAKgB,eAAesB,gBAAgBjB,MAAO,EAC3CrB,KAAKmC,uBAAuBP,GAAS5B,KAAKgB,eAAesB,gBACzDtC,KAAKgB,eAAeU,cAAcU,K,yBAGpC,SAAYG,GACVvC,KAAKgB,eAAeM,aAAaiB,GAAcpB,KAAKnB,KAAKgB,eAAesB,iBACxEtC,KAAKgB,eAAeU,cAAc,M,4BAGpC,SAAeE,GACb,IAAMJ,EAAOxB,KAAKmC,uBAAuBP,GACzC,OAAgD,IAA5C5B,KAAKmC,uBAAuBP,GAAOP,OAGvCG,EAAKH,MAAO,GACL,K,0BAGT,WACErB,KAAKwC,aACLxC,KAAKQ,cAAciC,mBAAmBzC,KAAKgB,eAAeE,WAC1DlB,KAAK0C,oBACL1C,KAAKgB,eAAeqB,kBAAkB,GACtCrC,KAAKgB,eAAeU,cAAc,IAClC1B,KAAKgB,eAAe2B,qBAAqB,GACzC3C,KAAKgB,eAAe4B,gBAAgB,M,wBAGtC,WACE,IAAMvC,EAAoBL,KAAKgB,eAAe6B,uBAC9C7C,KAAKgB,eAAe2B,qBAAqBtC,EAAoB,IAAML,KAAKU,cAAcoC,qBAAuB,EAAIzC,EAAoB,K,wBAIvI,SAAWuB,GAGT,IAAMmB,EAAO/C,KAAKmC,uBAClB,OAAQnC,KAAKgB,eAAegC,mBAC1B,KAAKnE,EAAUG,cACf,KAAKH,EAAUK,WACb,IAAK,IAAII,EAAI,EAAGA,EAAIyD,EAAKxD,OAAQD,IAC/BU,KAAKgB,eAAeM,aAAa,GAAGH,KAAK4B,EAAKzD,IAC9CyD,EAAKzD,GAAKU,KAAK2B,qBAEjB,MACF,KAAK9C,EAAUI,gBAEb,IADA,IAAIgE,EAAUjD,KAAKS,aAAayC,qBAAqBH,EAAM,GAAG,GACrDzD,EAAI,EAAGA,EAAI,EAAGA,IACnBU,KAAKgB,eAAeM,aAAa,GAAGH,KAAK4B,EAAKE,EAAQ3D,KACtDyD,EAAKE,EAAQ3D,IAAMU,KAAK2B,qBAE5B,MACF,KAAK9C,EAAUC,eACf,IAAK,IAAIQ,EAAIsC,EAAOtC,EAAIsC,EAAQ,EAAGtC,IACjCU,KAAKgB,eAAeM,aAAa,GAAGH,KAAK4B,EAAKzD,IAC9CyD,EAAKzD,GAAKU,KAAK2B,qBACfoB,EAAKzD,GAAG+B,MAAO,EAEf,MACF,KAAKxC,EAAUE,cACf,IAAK,IAAIO,EAAIsC,EAAOtC,EAAIsC,EAAQ,EAAGtC,IACjCU,KAAKgB,eAAeM,aAAa,GAAGH,KAAK4B,EAAKzD,IAC9CyD,EAAKzD,GAAKU,KAAK2B,qBAEf,MACF,QAEE,YADAE,QAAQC,MAAM,wBAGlB9B,KAAKmD,yBAAyBhC,KAAKnB,KAAKgB,eAAegC,mBACvDhD,KAAKgB,eAAe4B,gBAAgB,M,2CAGtC,WAEE,IADA,IAAMQ,EAAapD,KAAKmC,uBACf7C,EAAI,EAAGA,EAAI8D,EAAW7D,OAAQD,IACrC,IAAK8D,EAAW9D,GAAG+B,KACjB,OAAO,EAGX,OAAO,I,0BAGT,WACE,OAAOrB,KAAKW,Y,0BAGd,SAAaA,GACXX,KAAKW,UAAYA,I,oCAGnB,WACE,OAAOX,KAAKQ,cAAc6C,aAAarD,KAAKgB,eAAe6B,wBAAwBS,c,kCAGrF,WACE,OAAOtD,KAAKQ,cAAc6C,aAAarD,KAAKgB,eAAe6B,wBAAwB3B,c,0GChLhFqC,EAAUpE,EAAQ,IAAlBoE,OAEDC,E,WAEJ,WAAY9C,GAAgB,oBAC1BV,KAAKU,cAAgBA,EACrBV,KAAKyD,QAAU,GACfzD,KAAK0D,e,gDAGP,WACE1D,KAAKyD,QAAU,GACf,IAAK,IAAInE,EAAI,EAAGA,EAAIU,KAAKU,cAAcoC,qBAAsBxD,IAC3DU,KAAKyD,QAAQtC,KAAK,IAAIoC,EAAO,GAAI,O,gCAIrC,SAAmBtD,GACjB,IAAK,IAAIT,EAAI,EAAGA,EAAI,EAAGA,IACrB,IAAK,IAAIF,EAAI,EAAGA,EAAIU,KAAKqD,aAAa9D,OAAQD,IAC5CU,KAAKyD,QAAQnE,GAAG4B,UAAUC,KAAKlB,EAAKwB,S,wBAK1C,WACE,OAAOzB,KAAKyD,U,wBAGd,SAAWA,GACTzD,KAAKyD,QAAUA,M,mGC9BbF,E,WAEJ,WAAYtD,EAAM0D,GAAS,oBACvB3D,KAAKC,KAAOA,EACZD,KAAK2D,OAASA,E,2CAGlB,WACE,OAAO3D,KAAKC,O,uBAGd,WACE,OAAOD,KAAK2D,S,qBAGd,SAAQ1D,GACND,KAAKC,KAAOA,I,uBAGd,SAAU0D,GACR3D,KAAK2D,OAASA,M,0GCpBZC,E,WAEJ,WAAYC,EAAiBC,EAAkBC,EAAiBC,GAAmB,oBACjFhE,KAAK6D,gBAAkBA,EACvB7D,KAAK8D,iBAAmBA,EACxB9D,KAAK+D,gBAAkBA,EACvB/D,KAAKgE,iBAAmBA,E,sDAG1B,WACE,OAAOhE,KAAK6D,kB,iCAGd,WACE,OAAO7D,KAAK8D,mB,gCAGd,WACE,OAAO9D,KAAK+D,kB,iCAGd,WACE,OAAO/D,KAAKgE,qB,yGCrBRnF,GADiBM,EAAQ,IAAzBC,aACcD,EAAQ,GAAtBN,WAEFoF,E,WAEJ,aAAe,oB,uDAGf,SAAoBC,GAClB,OAAOlE,KAAKmE,cAActF,EAAUC,eAAgBoF,EAAOhD,UAAWgD,EAAOZ,cAC7EtD,KAAKmE,cAActF,EAAUE,cAAemF,EAAOhD,UAAWgD,EAAOZ,cACrEtD,KAAKmE,cAActF,EAAUG,cAAekF,EAAOhD,UAAWgD,EAAOZ,cACrEtD,KAAKmE,cAActF,EAAUI,gBAAiBiF,EAAOhD,UAAWgD,EAAOZ,cACvEtD,KAAKmE,cAActF,EAAUK,WAAYgF,EAAOhD,UAAWgD,EAAOZ,e,2BAGpE,SAAcc,EAAOnE,EAAMoE,GAEzB,GAAIA,EAAgBC,SAASF,GAC3B,OAAO,EAGT,OAAQA,GACN,KAAKvF,EAAUC,eACb,OAAOkB,KAAKuE,yBAAyBtE,EAAM,GAAGV,OAAS,EACzD,KAAKV,EAAUE,cACb,OAAOiB,KAAKuE,yBAAyBtE,EAAM,GAAGV,OAAS,EACzD,KAAKV,EAAUG,cACb,OAAOgB,KAAKuE,yBAAyBtE,EAAM,GAAGV,OAAS,EACzD,KAAKV,EAAUI,gBACb,OAAOe,KAAKkD,qBAAqBjD,EAAM,GAAGV,OAAS,EACrD,KAAKV,EAAUK,WACb,IAAMsF,EAAsBxE,KAAKkD,qBAAqBjD,EAAM,GAC5D,OAAsC,IAA/BuE,EAAoBjF,QAAiBiF,EAAoB,GAAGjF,OAASiF,EAAoB,GAAGjF,SAAY,EAEnH,OAAO,I,kCAKT,SAAqB6E,EAAOnE,EAAM2B,GAChC,IAAI6C,EAAkB,GACtB,OAAQL,GACN,KAAKvF,EAAUC,eACb2F,EAAkBzE,KAAKuE,yBAAyBtE,EAAM,GAEtD,IAAK,IAAIX,EAAI,EAAGA,EAAImF,EAAgBlF,OAAQD,IAC1C,GAAGsC,IAAU6C,EAAgBnF,GAAG,GAC9B,OAAO,EAGX,OAAO,EACT,KAAKT,EAAUE,cACb0F,EAAkBzE,KAAKuE,yBAAyBtE,EAAM,GACtD,IAAK,IAAIX,EAAI,EAAGA,EAAImF,EAAgBlF,OAAQD,IAC1C,GAAGsC,IAAU6C,EAAgBnF,GAAG,GAC9B,OAAO,EAGX,OAAO,EACT,KAAKT,EAAUG,cACbyF,EAAkBzE,KAAKuE,yBAAyBtE,EAAM,GACtD,IAAK,IAAIX,EAAI,EAAGA,EAAImF,EAAgBlF,OAAQD,IAC1C,GAAGsC,IAAU6C,EAAgBnF,GAAG,GAC9B,OAAO,EAGX,OAAO,EACT,KAAKT,EAAUI,gBACbwF,EAAkBzE,KAAKkD,qBAAqBjD,EAAM,GAClD,IAAK,IAAIX,EAAI,EAAGA,EAAImF,EAAgBlF,OAAQD,IAC1C,GAAGmF,EAAgBnF,GAAGgF,SAAS1C,GAC7B,OAAO,EAGX,OAAO,EACT,KAAK/C,EAAUK,WACb,IAAMsF,EAAsBxE,KAAKkD,qBAAqBjD,EAAM,GAE5D,OAAsC,IAA/BuE,EAAoBjF,QAAiBiF,EAAoB,GAAGjF,OAASiF,EAAoB,GAAGjF,SAAY,EAGnH,OAAO,I,mCAGT,SAAsBU,EAAMmE,GAC1B,OAAIA,IAAUvF,EAAUC,eACfkB,KAAKuE,yBAAyBtE,EAAM,GAEzCmE,IAAUvF,EAAUE,cACfiB,KAAKuE,yBAAyBtE,EAAM,GAEzCmE,IAAUvF,EAAUG,cACfgB,KAAKuE,yBAAyBtE,EAAM,GAEzCmE,IAAUvF,EAAUI,gBACfe,KAAKkD,qBAAqBjD,EAAM,GAErCmE,IAAUvF,EAAUK,YAClBc,KAAKmE,cAActF,EAAUK,WAAYe,EAAM,IAC1C,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,IAGd,K,sCAGT,SAAyBA,EAAMyE,GAI7B,IAFA,IAAMC,EAAwC,EAAID,EAC9CE,EAAwB,GACnBtF,EAAI,EAAGA,EAAIqF,EAAuCrF,IAAM,CAC/D,IAAI2D,EAAU,GACd,GAAKhD,EAAKX,GAAG+B,KAAb,CAGA4B,EAAQ9B,KAAK7B,GACb,IAAK,IAAIE,EAAIF,EAAI,EAAGE,EAAIkF,EAAkBpF,IACnCW,EAAKT,GAAG6B,MAAQpB,EAAKT,GAAG4B,QAAUnB,EAAKT,EAAE,GAAG4B,MAAQ,GADd5B,IAI3CyD,EAAQ9B,KAAK3B,GAEXyD,EAAQ1D,SAAWmF,GACrBE,EAAsBzD,KAAK8B,IAG/B,OAAO2B,I,kCAGT,SAAqB3E,EAAM4E,GAGzB,IAFA,IAAIC,EAAc,GACdC,EAAM,GACDzF,EAAI,EAAGA,EAAI,EAAGA,IAChBW,EAAKX,GAAG+B,OAGR0D,EAAI9E,EAAKX,GAAG8B,SACf2D,EAAI9E,EAAKX,GAAG8B,OAAS,IAEvB2D,EAAI9E,EAAKX,GAAG8B,OAAOD,KAAK7B,IAG1B,cAAgB0F,OAAOC,KAAKF,GAA5B,eAAkC,CAA7B,IAAIG,EAAG,KACNH,EAAIG,GAAK3F,QAAUsF,GACrBC,EAAY3D,KAAK4D,EAAIG,IAGzB,OAAOJ,M,+ICjJLK,EAAahG,EAAQ,GACpBf,EAAae,EAAQ,GAArBf,UAmDQgH,E,kDAhDb,WAAYC,GAAQ,IAAD,8BACjB,cAAMA,IAoBRC,OAAS,WACP,OACE,sBAAKC,UAAU,aAAa,cAAY,OAAxC,UACE,qBAAKC,KAAK,SAASD,UAAU,eAAeE,KAAK,UAAjD,SACE,oBAAGF,UAAU,YAAb,oBAAiC,EAAKF,MAAMK,GAAG,OAEjD,qBAAKH,UAAU,oBAAf,SACE,oBAAGA,UAAU,YAAb,qBAAkC,EAAK5B,OAAOpE,OAA9C,WAED,EAAKU,KAAK8E,KAAI,SAACvD,EAAMI,GAAP,OACb,qBAAK2D,UAAU,oBAAf,SACA,qBAAKA,UAAWJ,EAAW,aAAc,CAAC,gBAAmB3D,EAAKH,MAAO,CAAC,gBAAmBG,EAAKH,MAAO,CAAC,mBAAuB,EAAKsE,iBAAiBnE,EAAMI,KAAU4D,KAAK,aAAaI,QAAS,kBAAM,EAAKP,MAAMQ,oBAAoB,EAAKR,MAAMK,GAAI9D,IAAtP,SACGJ,EAAKH,KAAOG,EAAKJ,MAAQ,qBAAK0E,MAAM,6BAA6BC,MAAM,KAAKC,OAAO,KAAKC,QAAQ,YAAvE,SAAmF,sBAAMC,EAAE,sjBAF/EtE,MAM1C,qBAAK2D,UAAU,eAAf,SACC,EAAK5B,OAAOoB,KAAI,SAACX,EAAOxC,GAAR,OACf,qBAAK2D,UAAU,cAAcC,KAAK,cAAlC,SACGpB,GADkDxC,YArC3D,EAAKuE,YAAcC,IAAMC,YACzB,EAAKf,OAAOgB,KAAZ,gBACA,EAAKrG,KAAO,EAAKoF,MAAM7E,cAAc6C,aAAa,EAAKgC,MAAMK,IAAIxE,UACjE,EAAKyC,OAAS,EAAK0B,MAAM7E,cAAc6C,aAAa,EAAKgC,MAAMK,IAAIpC,YALlD,E,oDAWnB,SAAiB9B,EAAMI,GACrB,OAAO5B,KAAKqF,MAAMK,KAAO1F,KAAKqF,MAAMkB,YAAYvF,eAAe6B,yBAE3D,CAACzE,EAAUG,oBAAqBH,EAAUI,0BAA0B8F,SAAStE,KAAKqF,MAAMxF,aAAe2B,EAAKH,MAE5GjD,EAAUM,mBAAqBsB,KAAKqF,MAAMxF,WAAaG,KAAKqF,MAAMkB,YAAYvF,eAAeiB,qBAAuBL,GAErH,CAACxD,EAAUC,WAAYD,EAAUK,YAAcL,EAAUQ,gBAAgB0F,SAAStE,KAAKqF,MAAMxF,gB,GAnBjF2G,aCHnB,G,MAA8BrH,EAAQ,IAA/BlB,EAAP,EAAOA,SAAUG,EAAjB,EAAiBA,UACX+G,EAAahG,EAAQ,GAqDZsH,E,kDAlDb,WAAYpB,GAAQ,IAAD,8BACjB,cAAMA,IAsBRC,OAAS,WACP,OACE,sBAAKC,UAAU,gBAAgB,cAAY,iBAA3C,UACC,EAAKgB,YAAYvF,eAAeM,aAAayD,KAAI,SAAC7E,EAAS0B,GAAV,OAChD,sBAAK2D,UAAU,iBAAf,UACE,sBAAKA,UAAU,YAAYC,KAAK,SAAhC,qBACW5D,EAAQ,KAEnB,qBAAK2D,UAAU,oBAAf,SACE,qBAAKA,UAAWJ,EAAW,aAAc,kBAAmB,CAAC,mBAAuB,EAAKuB,qBAAsB,cAAa,0BAA4B9E,EAAOgE,QAAS,WAAO,EAAKP,MAAMsB,aAAa1I,EAASE,QAASyD,IAAzN,SACG,EAAKgF,mBAAmBhF,SANMA,MAWrC,sBAAK2D,UAAU,cAAf,UACE,qBAAKA,UAAU,YAAYC,KAAK,SAAhC,kBAGA,qBAAKD,UAAWJ,EAAW,aAAc,iBAAkB,CAAC,mBAAuB,EAAK0B,kBAAmB,cAAY,sBAAsBjB,QAAS,WAAO,EAAKP,MAAMsB,aAAa1I,EAASC,OAA9L,SACI,qBAAK4H,MAAM,6BAA6BC,MAAM,KAAKC,OAAO,KAAKC,QAAQ,YAAvE,SAAmF,sBAAMC,EAAE,4jBAzCrG,EAAKC,YAAcC,IAAMC,YACzB,EAAKf,OAAOgB,KAAZ,gBACA,EAAKC,YAAclB,EAAMkB,YAJR,E,sDAOnB,SAAmB3E,GACjB,IAAM1B,EAAUF,KAAKuG,YAAYvF,eAAeM,aAAaM,GAC7D,OAAO1B,EAAQX,OAAS,EAAIW,EAAQA,EAAQX,OAAO,GAAG6B,MAAQ,K,2BAGhE,WACE,OAAOpB,KAAKqF,MAAMxF,YAAczB,EAAUN,c,8BAG5C,WACE,MAAO,CAACM,EAAUN,YAAaM,EAAUE,gBAAgBgG,SAAStE,KAAKqF,MAAMxF,e,GAlBrD2G,aCH5B,G,MAA6CrH,EAAQ,IAA7C7B,EAAR,EAAQA,WAAYc,EAApB,EAAoBA,UAAWS,EAA/B,EAA+BA,UAkEhBiI,E,kDA/Db,WAAYzB,GAAQ,IAAD,8BACjB,cAAMA,IAOR0B,gBAAkB,WAChB,MAAO,CAAC3I,EAAUC,WAAYD,EAAUG,oBAAqBH,EAAUI,yBAA0BJ,EAAUK,YAAaL,EAAUM,iBAAkBN,EAAUE,gBAAgBgG,SAAS,EAAKe,MAAMxF,YATjL,EAYnBmH,iBAAmB,WACjB,OAAQ,EAAKT,YAAYU,iCAbR,EAgBnBC,eAAiB,WACf,OAAO,EAAK7B,MAAMxF,YAAczB,EAAUO,eAjBzB,EAoBnBwI,UAAY,SAAA/C,GACV,OAAO,EAAK3D,aAAa0D,cAAcC,EAAO,EAAKmC,YAAYpE,uBAAwB,EAAKoE,YAAYpD,2BArBvF,EAwBnBiE,mBAAqB,WACnB,OAAO,EAAK/B,MAAMxF,YAAczB,EAAUE,gBAzBzB,EA4BnBgH,OAAS,WACP,OACE,cAAC,IAAM+B,SAAP,UACA,sBAAK9B,UAAU,kBAAkB,cAAY,iBAA7C,UACG,EAAKwB,mBACJ,eAAC,IAAMM,SAAP,aACQ,EAAKd,YAAYvF,eAAesB,mBAAqB,EAAKiE,YAAYvF,eAAesB,gBAAgBlB,OACzG,eAAC,IAAMiG,SAAP,WACE,qBAAK9B,UAAU,6BAA6BC,KAAK,aAAjD,SACG,EAAKe,YAAYvF,eAAesB,gBAAgBlB,QAElD,EAAKgG,sBACN,gCACA,wBAAQ7B,UAAU,aAAaK,QAAS,WAAO,EAAKP,MAAMiC,sBAAsBhK,EAAWE,OAA3F,mCACC,EAAKwJ,oBAAsB,wBAAQzB,UAAU,mBAAmB,cAAY,sBAAsBK,QAAS,WAAO,EAAKP,MAAMiC,sBAAsBhK,EAAWI,eAAnI,iDAGnC,EAAK0J,sBAAyB,qBAAK7B,UAAU,YAAf,SAA2B,wBAAQA,UAAU,iBAAiBK,QAAS,WAAO,EAAKP,MAAMiC,sBAAsBhK,EAAWC,OAA/F,yBAIvD,EAAK2J,kBACJ,eAAC,IAAMG,SAAP,WACK,EAAKF,UAAUtI,EAAUC,iBAAmB,8BAAK,wBAAQ8G,QAAS,kBAAM,EAAKP,MAAMiC,sBAAsBhK,EAAWK,YAAakB,EAAUC,iBAA1F,gCACjD,EAAKqI,UAAUtI,EAAUE,gBAAkB,8BAAK,wBAAQ6G,QAAS,kBAAM,EAAKP,MAAMiC,sBAAsBhK,EAAWK,YAAakB,EAAUE,gBAA1F,+BAChD,EAAKoI,UAAUtI,EAAUG,gBAAkB,8BAAK,wBAAQ4G,QAAS,kBAAM,EAAKP,MAAMiC,sBAAsBhK,EAAWK,YAAakB,EAAUG,gBAA1F,+BAChD,EAAKmI,UAAUtI,EAAUI,kBAAoB,8BAAK,wBAAQ2G,QAAS,kBAAM,EAAKP,MAAMiC,sBAAsBhK,EAAWK,YAAakB,EAAUI,kBAA1F,iCAClD,EAAKkI,UAAUtI,EAAUK,aAAe,8BAAK,wBAAQ0G,QAAS,kBAAM,EAAKP,MAAMiC,sBAAsBhK,EAAWK,YAAakB,EAAUK,aAA1F,4BAC9C,qBAAKqG,UAAU,YAAf,SAA2B,wBAAQA,UAAU,iBAAiBK,QAAS,WAAO,EAAKP,MAAMiC,sBAAsBhK,EAAWG,cAA/F,+BAtDvC,EAAK8I,YAAclB,EAAMkB,YACzB,EAAK9F,aAAe4E,EAAM5E,aAC1B,EAAK0F,YAAcC,IAAMC,YACzB,EAAKf,OAAOgB,KAAZ,gBALiB,E,UADOE,aC8EbpB,G,wDA9Eb,WAAYC,GAAQ,IAAD,8BACjB,cAAMA,IASRC,OAAS,WACP,OACE,sBAAKC,UAAU,eAAe,cAAY,gBAA1C,UACE,qBAAKA,UAAU,uBAAf,SACE,oBAAIA,UAAU,eAAd,qBAEF,sBAAKA,UAAU,uBAAf,UACE,oBAAIA,UAAU,eAAd,0BACA,mBAAGA,UAAU,UAAb,yKAGF,sBAAKA,UAAU,qBAAf,UACE,oBAAIA,UAAU,eAAd,qBACA,oBAAGA,UAAU,UAAb,uCAC2B,EAAKgC,aADhC,WACsD,EAAKC,UAD3D,yBAEA,+BACE,gDACA,+CACA,+CACA,iDACA,kDAGJ,sBAAKjC,UAAU,uBAAf,UACE,oBAAIA,UAAU,eAAd,oBACA,mBAAGA,UAAU,UAAb,sIAGF,sBAAKA,UAAU,qBAAf,UACE,oBAAIA,UAAU,eAAd,wBACA,mBAAGA,UAAU,UAAb,4CACA,+BACE,+BAAI,oBAAIA,UAAU,cAAd,yBAAJ,qDACA,+BAAI,oBAAIA,UAAU,cAAd,yBACF,+BACE,+FACA,sFACA,+BACE,+DACA,+DAIN,+BAAI,oBAAIA,UAAU,cAAd,+BAAJ,8FAGJ,sBAAKA,UAAU,uBAAf,UACE,oBAAIA,UAAU,eAAd,iCACA,mBAAGA,UAAU,UAAb,0DACA,+BACE,sHACA,6GAA+E,uCAA/E,mHACA,yKACA,oEACA,uEACA,0KACA,wHAGJ,sBAAKA,UAAU,qBAAf,UACE,oBAAIA,UAAU,eAAd,yBACA,oBAAGA,UAAU,UAAb,sFAAgG,mBAAGkC,KAAK,iDAAR,2BAAhG,2BAAkM,mBAAGA,KAAK,iEAAR,qCAAlM,6GArEN,EAAKnC,OAAOgB,KAAZ,gBACA,EAAKiB,aAAe,EACpB,EAAKC,UAAY,EAJA,E,UADFhB,cCDX5G,G,MAA8BT,EAAQ,IAAtCS,2BAuBO8H,E,kDApBb,WAAYrC,GAAQ,IAAD,8BACjB,cAAMA,IAKRC,OAAS,WACP,OACE,cAAC,IAAM+B,SAAP,UACA,sBAAK9B,UAAU,aAAa,cAAY,aAAxC,UACE,qBAAKA,UAAU,2BACf,qBAAKA,UAAU,iBAAf,SACG3F,EAA0B,EAAKyF,MAAMxF,UAAW,EAAKwF,MAAM1E,UAAUsB,mBAAqB,KAE7F,qBAAKsD,UAAU,kCAZnB,EAAKY,YAAcC,IAAMC,YACzB,EAAKf,OAAOgB,KAAZ,gBAHiB,E,UADWE,aCGhC,G,MAA8DrH,EAAQ,IAA/D7B,EAAP,EAAOA,WAAYO,EAAnB,EAAmBA,QAASI,EAA5B,EAA4BA,SAAUG,EAAtC,EAAsCA,UAAWS,EAAjD,EAAiDA,UAC3CsG,EAAahG,EAAQ,GAmPZwI,E,kDA7Ob,WAAYtC,GAAQ,IAAD,8BACjB,cAAMA,IAYRuC,aAAe,WACb,EAAKpH,cAAckD,eACnB,EAAK6C,YAAYsB,eACjB,EAAKC,SAAS,CACZ1J,UAAWA,EAAUN,YACrBD,QAASA,EAAQE,QAlBF,EAoCnBgK,sBAAwB,SAACC,EAAMpG,GACzB,EAAKqG,MAAM7J,YAAcA,EAAUN,aAOnCkK,IAAS/J,EAASC,KACpB,EAAKqI,YAAY2B,mBACRF,IAAS/J,EAASE,QAE3B,EAAKoI,YAAY4B,oBAAoBvG,GAErCC,QAAQC,MAAM,mBAAoBkG,GAEpC,EAAKF,SAAS,CACZ1J,UAAWA,EAAUC,cAfjB,EAAK4J,MAAM7J,YAAcA,EAAUE,gBAClC0J,IAAS/J,EAASE,SAChB,EAAKiK,cAAcxG,EAAO,EAAKqG,MAAMI,wBAxC7B,EA0DnBC,YAAc,SAAA1G,GACZ,EAAK2E,YAAYgC,YAAY3G,IA3DZ,EA8DnB4G,eAAiB,SAAA5G,GACV,EAAK2E,YAAYkC,eAAe7G,KAGjC,EAAKqG,MAAM7J,YAAcA,EAAUI,yBAInC,EAAK+H,YAAYU,gCACnB,EAAKyB,UAGP,EAAKZ,SAAS,CACZ1J,UAAWA,EAAUI,2BARrB,EAAKkK,YAnEU,EA+EnBC,UAAY,SAAA/G,GACV,GAAI,EAAK2E,YAAYqC,YAAYhH,GAG/B,OAFA,EAAK2E,YAAYsC,UAAUjH,QAC3B,EAAK8G,UAGP,EAAK/H,UAAU0B,iBAAiBT,GAChC,EAAKkG,SAAS,CACZ1J,UAAWA,EAAUM,oBAvFN,EA2FnBgK,QAAU,WACJ,EAAKjI,aAAaqI,oBAAoB,EAAKtI,cAAc6C,aAAa,EAAK1C,UAAUkC,yBACvF,EAAKiF,SAAS,CAAC1J,UAAWA,EAAUO,gBAGxC,EAAKoK,cAhGc,EA8GnBC,oBAAsB,SAAApH,GACpB,GAAI,EAAKnB,aAAawI,qBAAqB,EAAKtI,UAAUqC,kBAAmB,EAAKuD,YAAYpE,uBAAwBP,IAEpH,GADA,EAAK2E,YAAY2C,WAAWtH,IACvB,EAAKuH,gBACV,OAAO,EAAKJ,kBAGZlH,QAAQC,MAAM,qBArHC,EAyHnBiH,WAAa,WAEX,OADA,EAAKxC,YAAY6C,aACV,EAAKtB,SAAS,CACnB1J,UAAWA,EAAUN,eA5HN,EA4InBuL,0BAA4B,SAACC,EAAQlF,GACnC,GAAIkF,IAAWhM,EAAWC,KACxB,OAAI,EAAK0K,MAAM7J,YAAcA,EAAUC,WAC9B,EAAKkL,sBAAsBD,GAE7B,EAAKZ,UAEd,GAAI,CAACpL,EAAWE,KAAMF,EAAWI,cAAc4G,SAASgF,GACpD,OAAO,EAAKC,sBAAsBD,GAEtC,GAAIA,IAAWhM,EAAWG,YACxB,OAAO,EAAKsL,aAEd,GAAIO,IAAWhM,EAAWK,YAAa,CACrC,EAAKgD,UAAUiC,gBAAgBwB,GAE/B,IAAMnB,EAAU,EAAKxC,aAAa+I,sBAAsB,EAAKjD,YAAYpE,uBAAwBiC,GACjG,IAAuB,IAAnBnB,EAAQ1D,QAAgB6E,IAAUvF,EAAUK,YAAckF,IAAUvF,EAAUI,mBAChF,EAAKsH,YAAY2C,WAAWjG,EAAQ,GAAG,KAClC,EAAKkG,iBACR,OAAO,EAAKJ,aAIhB,EAAKjB,SAAS,CACZ1J,UAAWA,EAAUQ,mBArKR,EA0KnB6K,wBAA0B,SAACvF,EAAQtC,GACjC,GAAIsC,IAAW,EAAKvD,UAAUkC,uBAI9B,OAAQ,EAAKoF,MAAM7J,WACjB,KAAKA,EAAUC,WAGb,OAFA,EAAKiK,YAAY1G,QACjB,EAAK2H,sBAAsBjM,EAAWM,cAExC,KAAKQ,EAAUG,oBACf,KAAKH,EAAUI,yBACb,EAAKgK,eAAe5G,GACpB,MACF,KAAKxD,EAAUK,YACf,KAAKL,EAAUM,iBACb,EAAKiK,UAAU/G,GACf,MACF,KAAKxD,EAAUQ,eACb,EAAKoK,oBAAoBpH,GACzB,MACF,QACEC,QAAQ6H,IAAI,4BAA6B,EAAKzB,MAAM7J,gBApBtDyD,QAAQ6H,IAAI,mCA5KG,EAwMnBpE,OAAS,WACP,OACE,eAAC,IAAM+B,SAAP,WACJ,sBAAK9B,UAAWJ,EAAW,YAAa,CAAC,cAAiB,EAAK8C,MAAMpK,UAAYA,EAAQC,cAAzF,UACE,oBAAIyH,UAAU,cAAc,cAAY,eAAxC,wBAGC,EAAK0C,MAAMpK,UAAYA,EAAQC,aAChC,eAAC,IAAMuJ,SAAP,WACI,cAAC,EAAD,IACA,qBAAK9B,UAAU,YAAf,SACE,wBAAQA,UAAU,qBAAqBK,QAAS,EAAKgC,aAArD,iCAKL,EAAKK,MAAMpK,UAAaA,EAAQE,MACjC,eAAC,IAAMsJ,SAAP,WACE,cAAC,EAAD,CAAMd,YAAa,EAAKA,YAAa1G,UAAW,EAAKoI,MAAM7J,UAAWoC,cAAe,EAAKA,cAAekF,GAAI,EAAGG,oBAAqB,EAAK4D,0BAC1I,cAAC,EAAD,CAAelD,YAAa,EAAKA,YAAaI,aAAc,EAAKoB,sBAAuBlI,UAAW,EAAKoI,MAAM7J,YAC9G,cAAC,EAAD,CAAMmI,YAAa,EAAKA,YAAa1G,UAAW,EAAKoI,MAAM7J,UAAWoC,cAAe,EAAKA,cAAekF,GAAI,EAAGG,oBAAqB,EAAK4D,6BAG3I,EAAKxB,MAAMpK,UAAYA,EAAQG,YAChC,cAAC,IAAMqJ,SAAP,UACI,sBAAK9B,UAAU,OAAO,cAAY,aAAlC,uCAC2B,EAAK5E,UAAUkC,uBAAuB,EACjE,wBAAQ,cAAY,mBAAmB0C,UAAU,OAAOK,QAAS,EAAKgC,aAAtE,sCAIH,EAAKK,MAAMpK,UAAaA,EAAQE,MAAQ,cAAC,EAAD,CAAmB4C,UAAW,EAAKA,UAAWd,UAAW,EAAKoI,MAAM7J,YAC5G,EAAK6J,MAAMpK,UAAaA,EAAQE,MAAQ,cAAC,EAAD,CAAewI,YAAa,EAAKA,YAAa1G,UAAW,EAAKoI,MAAM7J,UAAWqC,aAAc,EAAKA,aAAc6G,sBAAuB,EAAK+B,gCAtOrL,EAAKpB,MAAQ,CACXpK,QAASA,EAAQC,YACjBM,UAAWA,EAAUN,aAEvB,EAAK0C,cAAgB6E,EAAM7E,cAC3B,EAAK+F,YAAclB,EAAMkB,YACzB,EAAK5F,UAAY0E,EAAM1E,UACvB,EAAKD,cAAgB2E,EAAM3E,cAC3B,EAAKD,aAAe4E,EAAM5E,aAVT,E,iDAuBnB,SAAcmB,EAAO0H,GAEnB,OADAtJ,KAAKuG,YAAYoD,YAAY/H,GACzB0H,IAAWhM,EAAWC,KACjByC,KAAK0I,UACHY,IAAWhM,EAAWE,KACxBwC,KAAK8H,SAAS,CAAC1J,UAAWA,EAAUK,cAClC6K,IAAYhM,EAAWI,aACzBsC,KAAK8H,SAAS,CAAC1J,UAAWA,EAAUG,2BAClC+K,IAAWhM,EAAWM,cAC/BoC,KAAK0I,a,2BAoET,WACE,OAAI1I,KAAKuG,YAAYpD,yBAAyB5D,QAAU,IACtDS,KAAK8H,SAAS,CACZjK,QAASA,EAAQG,cAEZ,K,mCAuBX,SAAsBsL,GACpB,IAAM1H,EAAQ5B,KAAKuG,YAAYqD,uBAC3BhI,GAAS,EACX5B,KAAKoI,cAAcxG,EAAO0H,GAG5BtJ,KAAK8H,SAAS,CACZ1J,UAAWA,EAAUE,eACrB+J,sBAAuBiB,Q,GAzIL9C,aCVhBzG,EAAcZ,EAAQ,IAAtBY,UACAQ,EAAgBpB,EAAQ,IAAxBoB,YACAiD,EAAkBrE,EAAQ,IAA1BqE,cACAI,EAAkBzE,EAAQ,IAA1ByE,cACAK,EAAiB9E,EAAQ,IAAzB8E,aAoBO4F,MAlBf,WACE,IAAMnJ,EAAgB,IAAIkD,EAAc,EAAG,EAAG,EAAG,GAC3CpD,EAAgB,IAAIgD,EAAc9C,GAClCD,EAAe,IAAIwD,EACnBtD,EAAY,IAAIZ,EAChBwG,EAAc,IAAIhG,EAAYC,EAAeC,EAAcC,EAAeC,GAChF,OACE,qBAAK4E,UAAU,MAAf,SACE,iCACA,qBAAKA,UAAU,YAAf,SAEE,cAAC,EAAD,CAAW/E,cAAeA,EAAe+F,YAAaA,EAAa7F,cAAeA,EAAeD,aAAcA,EAAcE,UAAWA,WCRjImJ,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCDdQ,IAASjF,OACP,cAAC,IAAMkF,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1BZ,M","file":"static/js/main.f9154aa6.chunk.js","sourcesContent":["export const ActionType = {\n  PASS: 'PASS',\n  SWAP: 'SWAP',\n  CHANGE_TURN: 'CHANGE_TURN',\n  TURN_FACE_UP: 'TURN_FACE_UP',\n  CLAIM_TOKEN: 'CLAIM_TOKEN',\n  REPLACE_CARD: 'REPLACE_CARD'\n}\n\nexport const AppMode = {\n  START_STATE: 'START_STATE',\n  GAME: 'GAME',\n  PLAYER_WIN: 'PLAYER_WIN'\n}\n\nexport const DrawType = {\n  DECK: 'DECK',\n  DISCARD: 'DISCARD'\n}\n\nexport const MoveState = {\n  START_STATE:  'START_STATE',\n  CARD_DRAWN: 'CARD_DRAWN',\n  DISCARD_CHOSEN: 'DISCARD_CHOSEN',\n  TURN_FACE_UP_CHOSEN: 'TURN_FACE_UP_CHOSEN',\n  TURN_FACE_UP_IN_PROGRESS: 'TURN_FACE_UP_IN_PROGRESS',\n  SWAP_CHOSEN: 'SWAP_CHOSEN',\n  SWAP_IN_PROGRESS: 'SWAP_IN_PROGRESS',\n  PRE_END_STATE: 'PRE_END_STATE',\n  CLAIMING_TOKEN: 'CLAIMING_TOKEN'\n}\n\nexport const TokenType = {\n  THREE_IN_A_ROW: 'THREE_IN_A_ROW',\n  FOUR_IN_A_ROW: 'FOUR_IN_A_ROW',\n  FIVE_IN_A_ROW: 'FIVE_IN_A_ROW',\n  THREE_OF_A_KIND: 'THREE_OF_A_KIND',\n  FULL_HOUSE: 'FULL_HOUSE'\n}\n","const {MoveState} = require('./model/Enums.js')\n\nfunction shuffleArray(array) {\n  for (let i = array.length - 1; i > 0; i--) {\n    const j = Math.floor(Math.random() * (i + 1));\n    [array[i], array[j]] = [array[j], array[i]];\n  }\n  return array;\n}\n\nfunction getPlayerTextForMoveState(moveState, cardIndex) {\n  switch (moveState) {\n    case MoveState.START_STATE:\n      return 'Please draw a card from Deck or Discard'\n    case MoveState.CARD_DRAWN:\n      return 'Replace card in your hand or choose a discard option';\n    case MoveState.TURN_FACE_UP_CHOSEN:\n      return 'Select the first card to turn face up'\n    case MoveState.TURN_FACE_UP_IN_PROGRESS:\n      return 'Select the second card to turn face up or pass'\n    case MoveState.SWAP_CHOSEN:\n      return 'Select the first card you\\'d like  to swap'\n    case MoveState.SWAP_IN_PROGRESS:\n      return 'Selected ' + cardIndex + '. Please select a second card to swap'\n    case MoveState.PRE_END_STATE:\n      return 'Please select a token to claim or pass'\n    case MoveState.CLAIMING_TOKEN:\n      return 'Please select the first card of your run';\n    case MoveState.DISCARD_CHOSEN:\n      return 'Please select the discard pile you would like to discard the card to';\n    default:\n      return 'UNKONWN STATE DETECTED'\n  }\n}\n\nexport {shuffleArray, getPlayerTextForMoveState};\n","class GameState {\n\n  constructor() {\n    this.deck = [];\n    this.discard = [[]];\n    this.swapCardIndex = -1;\n    this.activeCard = {};\n    this.activePlayerIndex = 0;\n    this.tokenToClaim = '';\n  }\n\n  getDeck() {\n    return this.deck;\n  }\n\n  getDiscard() {\n    return this.discard;\n  }\n\n  getSwapCardIndex() {\n    return this.swapCardIndex;\n  }\n\n  getActiveCard() {\n    return this.activeCard;\n  }\n\n  getActivePlayerIndex() {\n    return this.activePlayerIndex;\n  }\n\n  getTokenToClaim() {\n    return this.tokenToClaim;\n  }\n\n  setDeck(deck) {\n    this.deck = deck;\n  }\n\n  setDiscard(discard) {\n    this.discard = discard;\n  }\n\n  setSwapCardIndex(swapCardIndex) {\n    this.swapCardIndex = swapCardIndex;\n  }\n\n  setActiveCard(activeCard) {\n    this.activeCard = activeCard;\n  }\n\n  setActivePlayerIndex(activePlayerIndex) {\n    this.activePlayerIndex = activePlayerIndex;\n  }\n\n  setTokenToClaim(tokenToClaim) {\n    this.tokenToClaim = tokenToClaim;\n  }\n}\n\nexport {GameState};\n","const { shuffleArray } = require('../Utils.js')\nconst { TokenType } = require('../model/Enums.js')\nclass GameService {\n\n  constructor(playerService, tokenService, configService, gameState) {\n      this.playerService = playerService;\n      this.tokenService = tokenService;\n      this.configService = configService;\n      this.gameState =  gameState;\n  }\n\n  createDeck() {\n    const repeats = this.configService.getRepeatsPerNumber();\n    const max = this.configService.getMaxNumberInDeck();\n    this.getGameState().setDeck([]);\n    for (let i = 0; i < repeats; i++) {\n      for (let j = 0; j < max; j++) {\n        this.getGameState().getDeck().push({value: j+1, seen: false})\n      }\n    }\n    shuffleArray(this.getGameState().getDeck());\n  }\n\n  getTopCardFromDeck() {\n    if (this.getGameState().getDeck().length === 0) {\n      this.getGameState().setDeck([]);\n      for(let i = 0; i < this.getGameState().getDiscard().length; i ++) {\n        this.getGameState().getDeck().push(...this.getGameState().getDiscard()[i].splice(0, this.getGameState().getDiscard()[i].length - 1));\n      }\n      shuffleArray(this.getGameState().getDeck());\n    }\n    const card = this.getGameState().getDeck().pop();\n    card.seen = false;\n    return card;\n  }\n\n  drawCardFromDeck() {\n    this.getGameState().setActiveCard(this.getTopCardFromDeck());\n  }\n\n  drawCardFromDiscard(index) {\n    if (this.getGameState().getDiscard()[index].length === 0) {\n      console.error('SOMETHING went wrong, discard length = 0')\n    }\n    this.getGameState().setActiveCard(this.getGameState().getDiscard()[index].pop());\n  }\n\n  discardPileHas0Cards() {\n    for (let i = 0; i < this.configService.getNumberOfDiscards(); i ++) {\n      if (this.getGameState().getDiscard()[i].length === 0) {\n        return i;\n      }\n    }\n    return -1;\n  }\n\n  initializeDiscard() {\n    this.getGameState().setDiscard([]);\n    for (let i = 0; i < this.configService.getNumberOfDiscards(); i ++) {\n      this.getGameState().getDiscard().push([]);\n      this.getGameState().getDiscard()[i].push(this.getGameState().getDeck().pop());\n    }\n  }\n\n  swapIsValid(index) {\n    return this.getGameState().getSwapCardIndex() > 0 && this.getGameState().getSwapCardIndex() !== index;\n  }\n\n  swapCards(index) {\n    const playerCards = this.getActivePlayersDeck();\n    const temp = playerCards[index];\n    playerCards[index] = playerCards[this.getGameState().getSwapCardIndex()];\n    playerCards[this.getGameState().getSwapCardIndex()] = temp;\n    this.getGameState().setSwapCardIndex(-1);\n  }\n\n  replaceCard(index) {\n    const temp = this.getActivePlayersDeck()[index];\n    this.getGameState().getActiveCard().seen = true;\n    this.getActivePlayersDeck()[index] = this.getGameState().getActiveCard();\n    this.getGameState().setActiveCard(temp);\n  }\n\n  discardCard(discardIndex) {\n    this.getGameState().getDiscard()[discardIndex].push(this.getGameState().getActiveCard());\n    this.getGameState().setActiveCard({});\n  }\n\n  turnCardFaceUp(index) {\n    const card = this.getActivePlayersDeck()[index];\n    if (this.getActivePlayersDeck()[index].seen === true) {\n      return false;\n    }\n    card.seen = true;\n    return true;\n  }\n\n  startNewGame() {\n    this.createDeck();\n    this.playerService.dealCardsToPlayers(this.getGameState().getDeck());\n    this.initializeDiscard();\n    this.getGameState().setSwapCardIndex(-1);\n    this.getGameState().setActiveCard({});\n    this.getGameState().setActivePlayerIndex(0);\n    this.getGameState().setTokenToClaim('');\n  }\n\n  nextPlayer() {\n    const activePlayerIndex = this.getGameState().getActivePlayerIndex();\n    this.getGameState().setActivePlayerIndex(activePlayerIndex + 1 === this.configService.getNumberOfPlayers() ? 0 : activePlayerIndex + 1);\n  }\n\n//TODO call token token service directly from above?\n  claimToken(index) {\n    //TODO come back to this to pick discard\n    //TODO come back to this to pick top card\n    const hand = this.getActivePlayersDeck();\n    switch (this.getGameState().getTokenToClaim()) {\n      case TokenType.FIVE_IN_A_ROW:\n      case TokenType.FULL_HOUSE:\n        for (let i = 0; i < hand.length; i ++) {\n          this.getGameState().getDiscard()[0].push(hand[i]);\n          hand[i] = this.getTopCardFromDeck();\n        }\n        break;\n      case TokenType.THREE_OF_A_KIND:\n        let indeces = this.tokenService.getAllIndecesForSets(hand, 3)[0];\n        for (let i = 0; i < 3; i++) {\n            this.getGameState().getDiscard()[0].push(hand[indeces[i]]);\n            hand[indeces[i]] = this.getTopCardFromDeck();\n          }\n        break;\n      case TokenType.THREE_IN_A_ROW:\n      for (let i = index; i < index + 3; i++) {\n        this.getGameState().getDiscard()[0].push(hand[i]);\n        hand[i] = this.getTopCardFromDeck();\n        hand[i].seen = false;\n      }\n        break;\n      case TokenType.FOUR_IN_A_ROW:\n      for (let i = index; i < index + 4; i++) {\n        this.getGameState().getDiscard()[0].push(hand[i]);\n        hand[i] = this.getTopCardFromDeck();\n      }\n        break;\n      default:\n        console.error('something went wrong');\n        return\n    }\n    this.getActivePlayersTokens().push(this.getGameState().getTokenToClaim());\n    this.getGameState().setTokenToClaim('');\n  }\n\n  activePlayerHasAllCardsFaceUp() {\n    const playerDeck = this.getActivePlayersDeck()\n    for (let i = 0; i < playerDeck.length; i++) {\n      if (!playerDeck[i].seen) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  getGameState()  {\n    return this.gameState;\n  }\n\n  setGameState(gameState) {\n    this.gameState = gameState;\n  }\n\n  getActivePlayersTokens() {\n    return this.playerService.getPlayers()[this.getGameState().getActivePlayerIndex()].getTokens();\n  }\n\n  getActivePlayersDeck() {\n    return this.playerService.getPlayers()[this.getGameState().getActivePlayerIndex()].getDeck();\n  }\n}\n\nexport {GameService};\n","const {Player} = require('../model/Player.js');\n\nclass PlayerService {\n\n  constructor(configService) {\n    this.configService = configService;\n    this.players = [];\n    this.resetPlayers();\n  }\n\n  resetPlayers() {\n    this.players = [];\n    for (let i = 0; i < this.configService.getNumberOfPlayers(); i ++) {\n      this.players.push(new Player([], []));\n    }\n  }\n\n  dealCardsToPlayers(deck) {\n    for (let j = 0; j < 5; j++) {\n      for (let i = 0; i < this.getPlayers().length; i ++) {\n        this.players[i].getDeck().push(deck.pop());\n      }\n    }\n  }\n\n  getPlayers() {\n    return this.players;\n  }\n\n  setPlayers(players) {\n    this.players = players;\n  }\n\n}\n\nexport {PlayerService};\n","class Player {\n\n  constructor(deck, tokens) {\n      this.deck = deck;\n      this.tokens = tokens;\n  }\n\n  getDeck() {\n    return this.deck;\n  }\n\n  getTokens() {\n    return this.tokens;\n  }\n\n  setDeck(deck) {\n    this.deck = deck;\n  }\n\n  setTokens(tokens) {\n    this.tokens = tokens;\n  }\n}\n\nexport {Player};\n","class ConfigService {\n\n  constructor(maxNumberInDeck, repeatsPerNumber, numberOfPlayers, numberOfDiscards) {\n    this.maxNumberInDeck = maxNumberInDeck;\n    this.repeatsPerNumber = repeatsPerNumber;\n    this.numberOfPlayers = numberOfPlayers;\n    this.numberOfDiscards = numberOfDiscards;\n  }\n\n  getMaxNumberInDeck() {\n    return this.maxNumberInDeck;\n  }\n\n  getRepeatsPerNumber() {\n    return this.repeatsPerNumber;\n  }\n\n  getNumberOfPlayers() {\n    return this.numberOfPlayers;\n  }\n\n  getNumberOfDiscards() {\n    return this.numberOfDiscards;\n  }\n\n}\n\nexport {ConfigService};\n","const { shuffleArray } = require('../Utils.js')\nconst { TokenType } = require('../model/Enums.js')\n\nclass TokenService {\n\n  constructor() {\n  }\n\n  playerCanClaimToken(player) {\n    return this.canClaimToken(TokenType.THREE_IN_A_ROW, player.getDeck(), player.getTokens()) ||\n    this.canClaimToken(TokenType.FOUR_IN_A_ROW, player.getDeck(), player.getTokens()) ||\n    this.canClaimToken(TokenType.FIVE_IN_A_ROW, player.getDeck(), player.getTokens()) ||\n    this.canClaimToken(TokenType.THREE_OF_A_KIND, player.getDeck(), player.getTokens()) ||\n    this.canClaimToken(TokenType.FULL_HOUSE, player.getDeck(), player.getTokens());\n  }\n\n  canClaimToken(token, deck, existing_tokens) {\n    //TODO does this logic belong here?\n    if (existing_tokens.includes(token)) {\n      return false;\n    }\n\n    switch (token) {\n      case TokenType.THREE_IN_A_ROW:\n        return this.getAllIndecesForStraight(deck, 3).length > 0\n      case TokenType.FOUR_IN_A_ROW:\n        return this.getAllIndecesForStraight(deck, 4).length > 0\n      case TokenType.FIVE_IN_A_ROW:\n        return this.getAllIndecesForStraight(deck, 5).length > 0\n      case TokenType.THREE_OF_A_KIND:\n        return this.getAllIndecesForSets(deck, 3).length > 0\n      case TokenType.FULL_HOUSE:\n        const indecesForFullHouse = this.getAllIndecesForSets(deck, 2);\n        return indecesForFullHouse.length === 2 && (indecesForFullHouse[0].length + indecesForFullHouse[1].length) === 5\n   }\n    return false;\n  }\n\n  //TODO Refactor away?\n  //TODO refactor for three/four/five in a row can be simpler. Maybe change on ENUM side\n  isValidIndexForToken(token, deck, index) {\n    let possibleIndeces = [];\n    switch (token) {\n      case TokenType.THREE_IN_A_ROW:\n        possibleIndeces = this.getAllIndecesForStraight(deck, 3);\n        //get all the possible straights for 3 in a row\n        for (let i = 0; i < possibleIndeces.length; i++) {\n          if(index === possibleIndeces[i][0]) {\n            return true\n          }\n        }\n        return false\n      case TokenType.FOUR_IN_A_ROW:\n        possibleIndeces = this.getAllIndecesForStraight(deck, 4);\n        for (let i = 0; i < possibleIndeces.length; i++) {\n          if(index === possibleIndeces[i][0]) {\n            return true\n          }\n        }\n        return false\n      case TokenType.FIVE_IN_A_ROW:\n        possibleIndeces = this.getAllIndecesForStraight(deck, 5);\n        for (let i = 0; i < possibleIndeces.length; i++) {\n          if(index === possibleIndeces[i][0]) {\n            return true\n          }\n        }\n        return false\n      case TokenType.THREE_OF_A_KIND:\n        possibleIndeces = this.getAllIndecesForSets(deck, 3);\n        for (let i = 0; i < possibleIndeces.length; i++) {\n          if(possibleIndeces[i].includes(index)) {\n            return true\n          }\n        }\n        return false\n      case TokenType.FULL_HOUSE:\n        const indecesForFullHouse = this.getAllIndecesForSets(deck, 2);\n        //no logic here yet\n        return indecesForFullHouse.length === 2 && (indecesForFullHouse[0].length + indecesForFullHouse[1].length) === 5\n   }\n\n    return false;\n  }\n\n  getAllIndecesForToken(deck, token) {\n    if (token === TokenType.THREE_IN_A_ROW) {\n      return this.getAllIndecesForStraight(deck, 3);\n    }\n    if (token === TokenType.FOUR_IN_A_ROW) {\n      return this.getAllIndecesForStraight(deck, 4);\n    }\n    if (token === TokenType.FIVE_IN_A_ROW) {\n      return this.getAllIndecesForStraight(deck, 5);\n    }\n    if (token === TokenType.THREE_OF_A_KIND) {\n      return this.getAllIndecesForSets(deck, 3);\n    }\n    if (token === TokenType.FULL_HOUSE) {\n      if (this.canClaimToken(TokenType.FULL_HOUSE, deck, []))  {\n        return [[0,1,2,3,4]];\n      }\n    }\n    return []\n  }\n\n  getAllIndecesForStraight(deck, straight_length) {\n    //assumes hand size of 5. If 4 in a row 6 - 4 = 2, 1234 or 2345 so âœ…\n    const count_options_to_make_straight_length = 6 - straight_length;\n    let possible_combinations = []\n    for (let i = 0; i < count_options_to_make_straight_length; i ++) {\n      let indeces = []\n      if (!deck[i].seen) {\n        continue\n      }\n      indeces.push(i)\n      for (let j = i + 1; j < straight_length + i; j ++) {\n        if (!deck[j].seen || deck[j].value !== deck[j-1].value + 1) {\n          break;\n        }\n        indeces.push(j)\n      }\n      if (indeces.length === straight_length) {\n        possible_combinations.push(indeces)\n      }\n    }\n    return possible_combinations;\n  }\n\n  getAllIndecesForSets(deck, set_length) {\n    let returnArray = []\n    let map = {};\n    for (let i = 0; i < 5; i++) {\n      if (!deck[i].seen) {\n        continue;\n      }\n      if (!map[deck[i].value]) {\n        map[deck[i].value] = []\n      }\n      map[deck[i].value].push(i)\n    }\n\n    for (let key of Object.keys(map)) {\n      if (map[key].length >= set_length) {\n        returnArray.push(map[key]);\n      }\n    }\n    return returnArray\n  }\n}\n\nexport {TokenService};\n","import React, { Component } from 'react';\nimport './Hand.css';\nconst classNames = require('classnames');\nconst {MoveState} = require('../../model/Enums.js')\n\nclass Hand extends Component {\n  constructor(props) {\n    super(props);\n    this.TableCanvas = React.createRef();\n    this.render.bind(this);\n    this.deck = this.props.playerService.getPlayers()[this.props.id].getDeck();\n    this.tokens = this.props.playerService.getPlayers()[this.props.id].getTokens();\n  }\n\n  // TODO maybe add this for claimToken logic. Think too much\n  // TODO the 0/4 win tracking should be done dynamically and pass in rather than hard-coded\n   // TODO testing lol!\n  cardCanBePressed(card, index) {\n    return this.props.id === this.props.gameService.getGameState().getActivePlayerIndex()\n     && (\n       ([MoveState.TURN_FACE_UP_CHOSEN, MoveState.TURN_FACE_UP_IN_PROGRESS].includes(this.props.moveState) && !card.seen)\n           ||\n       (MoveState.SWAP_IN_PROGRESS === this.props.moveState && this.props.gameService.getGameState().getSwapCardIndex() !== index)\n           ||\n       [MoveState.CARD_DRAWN, MoveState.SWAP_CHOSEN,  MoveState.CLAIMING_TOKEN].includes(this.props.moveState));\n  }\n\n  render = () => {\n    return (\n      <div className=\"PlayerHand\" data-testid=\"hand\">\n        <div role=\"header\" className=\"PlayerHeader\" name=\"Player1\">\n          <p className=\"playerTag\">Player {this.props.id+1}</p>\n        </div>\n        <div className=\"PlayerTokenHeader\">\n          <p className=\"playerTag\">Tokens [{this.tokens.length}/4]</p>\n        </div>\n        {this.deck.map((card, index) => (\n          <div className=\"PlayerCardWrapper\" key={index}>\n          <div className={classNames('PlayerCard', {'PlayerCardBack': !card.seen}, {'PlayerCardFront': card.seen}, {\"PlayerCardIsActive\" : this.cardCanBePressed(card, index)})} role='playerCard' onClick={() => this.props.cardPressedCallback(this.props.id, index)}>\n            {card.seen ? card.value : <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm1.25 17c0 .69-.559 1.25-1.25 1.25-.689 0-1.25-.56-1.25-1.25s.561-1.25 1.25-1.25c.691 0 1.25.56 1.25 1.25zm1.393-9.998c-.608-.616-1.515-.955-2.551-.955-2.18 0-3.59 1.55-3.59 3.95h2.011c0-1.486.829-2.013 1.538-2.013.634 0 1.307.421 1.364 1.226.062.847-.39 1.277-.962 1.821-1.412 1.343-1.438 1.993-1.432 3.468h2.005c-.013-.664.03-1.203.935-2.178.677-.73 1.519-1.638 1.536-3.022.011-.924-.284-1.719-.854-2.297z\"/></svg> }\n          </div>\n          </div>\n        ))}\n        <div className='PlayerTokens'>\n        {this.tokens.map((token, index) => (\n          <div className='PlayerToken' role='playerToken' key={index}>\n            {token}\n          </div>\n        ))}\n        </div>\n      </div>\n  )}\n}\n\nexport default Hand;\n","import React, { Component } from 'react';\nimport './MiddleSection.css';\nconst {DrawType, MoveState} = require('../../model/Enums.js')\nconst classNames = require('classnames');\n\nclass MiddleSection extends Component {\n  constructor(props) {\n    super(props);\n    this.TableCanvas = React.createRef();\n    this.render.bind(this);\n    this.gameService = props.gameService;\n  }\n\n  getTopDiscardValue(index) {\n    const discard = this.gameService.getGameState().getDiscard()[index];\n    return discard.length > 0 ? discard[discard.length-1].value : '';\n  }\n\n  highlightDeck() {\n    return this.props.moveState === MoveState.START_STATE;\n  }\n\n  highlightDiscard() {\n    return [MoveState.START_STATE, MoveState.DISCARD_CHOSEN].includes(this.props.moveState);\n  }\n\n  // TODO - move this.state.MoveState to a dedicated service.\n  // Now MOVE STATE IS HERE DO WE WANT TO MOVE THE DRAW LOGIC DOWN OR  KEEP IT HIGHER?\n  // TODO mobile playable\n  render = () => {\n    return (\n      <div className=\"MiddleSection\" data-testid=\"middle-section\">\n      {this.gameService.getGameState().getDiscard().map((discard, index) => (\n        <div className=\"DiscardSection\" key={index}>\n          <div className=\"FullWidth\" role=\"header\">\n            Discard {index + 1}\n          </div>\n          <div className=\"PlayerCardWrapper\">\n            <div className={classNames('PlayerCard', 'PlayerCardFront', {\"PlayerCardIsActive\" : this.highlightDiscard()})} data-testid={'middle-section-discard-' + index} onClick={() => {this.props.drawCallback(DrawType.DISCARD, index)}}>\n              {this.getTopDiscardValue(index)}\n            </div>\n          </div>\n        </div>\n      ))}\n        <div className=\"DeckSection\">\n          <div className=\"FullWidth\" role=\"header\">\n            Deck\n          </div>\n          <div className={classNames('PlayerCard', 'PlayerCardBack', {\"PlayerCardIsActive\" : this.highlightDeck()})} data-testid=\"middle-section-deck\" onClick={() => {this.props.drawCallback(DrawType.DECK)}}>\n              <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm1.25 17c0 .69-.559 1.25-1.25 1.25-.689 0-1.25-.56-1.25-1.25s.561-1.25 1.25-1.25c.691 0 1.25.56 1.25 1.25zm1.393-9.998c-.608-.616-1.515-.955-2.551-.955-2.18 0-3.59 1.55-3.59 3.95h2.011c0-1.486.829-2.013 1.538-2.013.634 0 1.307.421 1.364 1.226.062.847-.39 1.277-.962 1.821-1.412 1.343-1.438 1.993-1.432 3.468h2.005c-.013-.664.03-1.203.935-2.178.677-.73 1.519-1.638 1.536-3.022.011-.924-.284-1.719-.854-2.297z\"/></svg>\n              </div>\n            </div>\n      </div>\n  )}\n}\n\nexport default MiddleSection;\n","import React, { Component } from 'react';\nimport './FooterSection.css';\nconst { ActionType, MoveState, TokenType } = require('../../model/Enums.js')\n\nclass FooterSection extends Component {\n  constructor(props) {\n    super(props);\n    this.gameService = props.gameService;\n    this.tokenService = props.tokenService;\n    this.TableCanvas = React.createRef();\n    this.render.bind(this);\n  }\n\n  ShowCardActions = () => {\n    return [MoveState.CARD_DRAWN, MoveState.TURN_FACE_UP_CHOSEN, MoveState.TURN_FACE_UP_IN_PROGRESS, MoveState.SWAP_CHOSEN, MoveState.SWAP_IN_PROGRESS, MoveState.DISCARD_CHOSEN].includes(this.props.moveState)\n  }\n\n  ShowTurnUpAction = () => {\n    return !this.gameService.activePlayerHasAllCardsFaceUp();\n  }\n\n  ShowEndActions = () => {\n    return this.props.moveState === MoveState.PRE_END_STATE;\n  }\n\n  ShowToken = token => {\n    return this.tokenService.canClaimToken(token, this.gameService.getActivePlayersDeck(), this.gameService.getActivePlayersTokens());\n  }\n\n  showInitialActions = () => {\n    return this.props.moveState !== MoveState.DISCARD_CHOSEN;\n  }\n\n  render = () => {\n    return (\n      <React.Fragment>\n      <div className=\"CardTableFooter\" data-testid=\"footer-section\">\n        {this.ShowCardActions() &&\n          <React.Fragment>\n              {(!!this.gameService.getGameState().getActiveCard() && !!this.gameService.getGameState().getActiveCard().value) &&\n              <React.Fragment>\n                <div className=\"PlayerCard PlayerCardFront\" role=\"activeCard\">\n                  {this.gameService.getGameState().getActiveCard().value}\n                </div>\n                {this.showInitialActions() &&\n                <div>\n                <button className=\"swapButton\" onClick={() => {this.props.buttonPressedCallback(ActionType.SWAP)}}> Discard to swap two </button>\n                {this.ShowTurnUpAction() && <button className=\"turnFaceUpButton\" data-testid='turn-face-up-button' onClick={() => {this.props.buttonPressedCallback(ActionType.TURN_FACE_UP)}}> Discard to turn two face up </button>}\n                </div>}\n            </React.Fragment>}\n        {this.showInitialActions() &&  <div className=\"FullWidth\"><button className=\"mb-2 FullWidth\" onClick={() => {this.props.buttonPressedCallback(ActionType.PASS)}}> Pass </button></div>}\n\n          </React.Fragment>}\n\n          {this.ShowEndActions() &&\n            <React.Fragment>\n                {this.ShowToken(TokenType.THREE_IN_A_ROW) && <div><button onClick={() => this.props.buttonPressedCallback(ActionType.CLAIM_TOKEN, TokenType.THREE_IN_A_ROW)}> THREE IN A ROW </button></div>}\n                {this.ShowToken(TokenType.FOUR_IN_A_ROW) && <div><button onClick={() => this.props.buttonPressedCallback(ActionType.CLAIM_TOKEN, TokenType.FOUR_IN_A_ROW)}> FOUR IN A ROW </button></div>}\n                {this.ShowToken(TokenType.FIVE_IN_A_ROW) && <div><button onClick={() => this.props.buttonPressedCallback(ActionType.CLAIM_TOKEN, TokenType.FIVE_IN_A_ROW)}> FIVE IN A ROW </button></div>}\n                {this.ShowToken(TokenType.THREE_OF_A_KIND) && <div><button onClick={() => this.props.buttonPressedCallback(ActionType.CLAIM_TOKEN, TokenType.THREE_OF_A_KIND)}> THREE OF A KIND </button></div>}\n                {this.ShowToken(TokenType.FULL_HOUSE) && <div><button onClick={() => this.props.buttonPressedCallback(ActionType.CLAIM_TOKEN, TokenType.FULL_HOUSE)}> FULL HOUSE </button></div>}\n                <div className=\"FullWidth\"><button className=\"mb-2 FullWidth\" onClick={() => {this.props.buttonPressedCallback(ActionType.CHANGE_TURN)}}> Pass </button></div>\n            </React.Fragment>}\n      </div>\n      </React.Fragment>\n  )}\n}\n\nexport default FooterSection;\n","import React, { Component } from 'react';\nimport './RulesSection.css';\n\nclass Hand extends Component {\n  constructor(props) {\n    super(props);\n    this.render.bind(this);\n    this.targetTokens = 4;\n    this.maxTokens = 5;\n  }\n\n  // TODO ability to show rules anytime? (Maybe pop-up)\n  // TODO Ability to change some core settings\n\n  render = () => {\n    return (\n      <div className=\"rulesSection\" data-testid=\"rules-section\">\n        <div className=\"secondary-background\">\n          <h3 className=\"rules-header\">Rules</h3>\n        </div>\n        <div className=\"secondary-background\">\n          <h4 className=\"rules-header\">Introduction</h4>\n          <p className=\"rules-p\">Welcome to Straight 5, a rummy-like, yahtzee-like card game! This is the (work-in-progress) digitial version of the (hopefully future) Straight 5 game. </p>\n        </div>\n\n        <div className=\"primary-background\">\n          <h4 className=\"rules-header\">Winning</h4>\n          <p className=\"rules-p\">\n          The first player to claim {this.targetTokens} out of {this.maxTokens} tokens below wins.</p>\n          <ul>\n            <li>Three in a row</li>\n            <li>Four in a row</li>\n            <li>Five in a row</li>\n            <li>Three of a kind</li>\n            <li>Full House</li>\n          </ul>\n        </div>\n        <div className=\"secondary-background\">\n          <h4 className=\"rules-header\">Set up</h4>\n          <p className=\"rules-p\">Each player begins with 5 cards face-down in front of them.\n          The top card of the deck will be turned over as a discard</p>\n        </div>\n        <div className=\"primary-background\">\n          <h4 className=\"rules-header\">Turn Order</h4>\n          <p className=\"rules-p\">Each consists of three phases:</p>\n          <ol>\n            <li><h4 className=\"phaseHeader\">Draw Phase:</h4> draw the top card of the deck or discard piles</li>\n            <li><h4 className=\"phaseHeader\">Play Phase:</h4>\n              <ul>\n                <li> Place card in front of you (and discard existing card), or; </li>\n                <li> Discard the drawn card (to any discard pile) and:  </li>\n                <ul>\n                  <li> Turn up to two cards face-up</li>\n                  <li> Swap any two cards </li>\n                </ul>\n              </ul>\n            </li>\n            <li><h4 className=\"phaseHeader\">Claim Token Phase</h4>: Claim a token by discarding the required cards (e.g. 1 2 3 4 for Four In a Row).</li>\n          </ol>\n        </div>\n        <div className=\"secondary-background\">\n          <h4 className=\"rules-header\">Rule Clarifications</h4>\n          <p className=\"rules-p\">Here are some clarifications on rules above:</p>\n          <ol>\n            <li>When you place the drawn card in front of you, you do not get to take another action</li>\n            <li>When you discard a card, you get to choose which discard pile it goes into <b>UNLESS</b> a discard pile has 0 cards, in which case you must discard it there (and the app will do this automatically)</li>\n            <li>If you have only one card face-up and choose to take the \"turn up to two cards face up\" action. You only get to turn one card face up. </li>\n            <li>You can only claim each token once</li>\n            <li>You can only claim one token per turn</li>\n            <li>The cards to claim the tokens for the straights (3/4/5 in a row) must be adjacent and in ascending order (e.g. 1 2 3 not 3 2 1 or 1 3 2)</li>\n            <li>The cards to claim the tokens for three of a kind and full house can be anywhere</li>\n          </ol>\n        </div>\n        <div className=\"primary-background\">\n          <h4 className=\"rules-header\">Final notes</h4>\n          <p className=\"rules-p\">If you find any bugs or issues with Straight 5 please submit an issue by <a href=\"https://github.com/andyrewwer/straight5/issues\">clicking here</a> or you can email me at <a href=\"mailto:a.andyrewwer@gmail.com?subject = Feedback on Straight 5\">a.andyrewwer@gmail.com.</a> Also feel free to email me with other thoughts/feedback/concerns (about the game or otherwise)!</p>\n        </div>\n\n      </div>\n  )}\n}\n\nexport default Hand;\n","import React, { Component } from 'react';\nimport './NewstickerSection.css';\nconst { getPlayerTextForMoveState } = require('../../Utils.js')\n\nclass NewstickerSection extends Component {\n  constructor(props) {\n    super(props);\n    this.TableCanvas = React.createRef();\n    this.render.bind(this);\n  }\n\n  render = () => {\n    return (\n      <React.Fragment>\n      <div className=\"newsTicker\" data-testid=\"newsticker\">\n        <div className=\"newsTickerTriangleLeft\"/>\n        <div className=\"newsTickerMain\">\n          {getPlayerTextForMoveState(this.props.moveState, this.props.gameState.getSwapCardIndex() + 1)}\n        </div>\n        <div className=\"newsTickerTriangleRight\"/>\n      </div>\n      </React.Fragment>\n  )}\n}\n\nexport default NewstickerSection;\n","import React, { Component } from 'react';\nimport Hand from './game/Hand.js';\nimport MiddleSection from './game/MiddleSection.js';\nimport FooterSection from './game/FooterSection.js';\nimport RulesSection from './RulesSection.js';\nimport NewstickerSection from './game/NewstickerSection.js';\nimport './Straight5.css';\nconst {ActionType, AppMode, DrawType, MoveState, TokenType} = require('../model/Enums.js')\nconst classNames = require('classnames');\n\n// TODO should discard card at the END of your TURN instead of START\n// TODO maybe pop-up when turn changes\n// TODO only highlight options that can be clicked when claiming a token\nclass Straight5 extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      AppMode: AppMode.START_STATE,\n      MoveState: MoveState.START_STATE,\n    };\n    this.playerService = props.playerService;\n    this.gameService = props.gameService;\n    this.gameState = props.gameState;\n    this.configService = props.configService;\n    this.tokenService = props.tokenService;\n  }\n\n  StartNewGame = () => {\n    this.playerService.resetPlayers();\n    this.gameService.startNewGame();\n    this.setState({\n      MoveState: MoveState.START_STATE,\n      AppMode: AppMode.GAME\n    });\n  }\n\n\n  handleDiscard(index, action) {\n    this.gameService.discardCard(index);\n    if (action === ActionType.PASS) {\n      return this.EndMove();\n    } else if (action === ActionType.SWAP) {\n      return this.setState({MoveState: MoveState.SWAP_CHOSEN});\n    } else if (action ===  ActionType.TURN_FACE_UP) {\n      return this.setState({MoveState: MoveState.TURN_FACE_UP_CHOSEN});\n    } else if (action === ActionType.REPLACE_CARD) {\n      this.EndMove();\n    }\n  }\n  //TODO animation\n  deckAndDiscardPressed = (type, index) => {\n    if (this.state.MoveState !== MoveState.START_STATE) {\n      if (this.state.MoveState === MoveState.DISCARD_CHOSEN &&\n           type === DrawType.DISCARD) {\n             this.handleDiscard(index, this.state.InterruptedActionType);\n      }\n      return;\n    }\n    if (type === DrawType.DECK) {\n      this.gameService.drawCardFromDeck();\n    } else if (type === DrawType.DISCARD) {\n\n      this.gameService.drawCardFromDiscard(index);\n    } else {\n      console.error('draw card failed', type);\n    }\n    this.setState({\n      MoveState: MoveState.CARD_DRAWN\n    });\n\n  }\n\n  ReplaceCard = index => {\n    this.gameService.replaceCard(index);\n  }\n\n  TurnCardFaceUp = index => {\n    if (!this.gameService.turnCardFaceUp(index)) {\n      return;\n    }\n    if (this.state.MoveState === MoveState.TURN_FACE_UP_IN_PROGRESS) {\n      this.EndMove();\n      return;\n    }\n    if (this.gameService.activePlayerHasAllCardsFaceUp()) {\n      this.EndMove();\n      return;\n    }\n    this.setState({\n      MoveState: MoveState.TURN_FACE_UP_IN_PROGRESS,\n    });\n  }\n\n  SwapCards = index => {\n    if (this.gameService.swapIsValid(index)) {\n      this.gameService.swapCards(index);\n      this.EndMove();\n      return\n    }\n    this.gameState.setSwapCardIndex(index);\n    this.setState({\n      MoveState: MoveState.SWAP_IN_PROGRESS\n    })\n  }\n\n  EndMove = () => {\n    if (this.tokenService.playerCanClaimToken(this.playerService.getPlayers()[this.gameState.getActivePlayerIndex()])) {\n      this.setState({MoveState: MoveState.PRE_END_STATE});\n      return;\n    }\n  this.ChangeTurn();\n\n  }\n\n  checkIfWinner() {\n    if (this.gameService.getActivePlayersTokens().length >= 4) {\n      this.setState({\n        AppMode: AppMode.PLAYER_WIN\n      });\n      return true;\n    }\n    return false;\n  }\n\n  ClaimTokenCardPress = index => {\n    if (this.tokenService.isValidIndexForToken(this.gameState.getTokenToClaim(), this.gameService.getActivePlayersDeck(), index)) {\n      this.gameService.claimToken(index);\n      if (!this.checkIfWinner()) {\n      return this.ChangeTurn();\n      }\n    } else {\n      console.error('invalid index :(')\n    }\n  }\n\n  ChangeTurn = () => {\n    this.gameService.nextPlayer();\n    return this.setState({\n      MoveState: MoveState.START_STATE\n    });\n  }\n\n  setDiscardChosenState(action) {\n    const index = this.gameService.discardPileHas0Cards();\n    if (index >= 0) {\n      this.handleDiscard(index, action);\n      return\n    }\n    this.setState({\n      MoveState: MoveState.DISCARD_CHOSEN,\n      InterruptedActionType: action\n    });\n  }\n\n  handleActionButtonPressed = (action, token) => {\n    if (action === ActionType.PASS) {\n      if (this.state.MoveState === MoveState.CARD_DRAWN) {\n        return this.setDiscardChosenState(action);\n      }\n      return this.EndMove();\n    }\n    if ([ActionType.SWAP, ActionType.TURN_FACE_UP].includes(action)) {\n        return this.setDiscardChosenState(action);\n    }\n    if (action === ActionType.CHANGE_TURN) {\n      return this.ChangeTurn()\n    }\n    if (action === ActionType.CLAIM_TOKEN) {\n      this.gameState.setTokenToClaim(token);\n\n      const indeces = this.tokenService.getAllIndecesForToken(this.gameService.getActivePlayersDeck(), token);\n      if (indeces.length === 1 || token === TokenType.FULL_HOUSE || token === TokenType.THREE_OF_A_KIND) {\n        this.gameService.claimToken(indeces[0][0]); //TODO TEST\n        if (!this.checkIfWinner()) {\n          return this.ChangeTurn();\n        }\n      }\n      // TODO Less autoclaim if multiple options for three of a\n      this.setState({\n        MoveState: MoveState.CLAIMING_TOKEN\n      });\n    }\n  }\n\n  handlePlayerCardPressed = (player, index)  =>  {\n    if (player !== this.gameState.getActivePlayerIndex()) {\n      console.log('card from wrong player clicked')\n      return;\n    }\n    switch (this.state.MoveState) {\n      case MoveState.CARD_DRAWN:\n        this.ReplaceCard(index);\n        this.setDiscardChosenState(ActionType.REPLACE_CARD);\n        return\n      case MoveState.TURN_FACE_UP_CHOSEN:\n      case MoveState.TURN_FACE_UP_IN_PROGRESS:\n        this.TurnCardFaceUp(index);\n        break\n      case MoveState.SWAP_CHOSEN:\n      case MoveState.SWAP_IN_PROGRESS:\n        this.SwapCards(index)\n        break\n      case MoveState.CLAIMING_TOKEN:\n        this.ClaimTokenCardPress(index);\n        break;\n      default:\n        console.log('No action for this status', this.state.MoveState)\n    }\n  }\n  // TODO SHOW ACTIVE PLAYER\n  // TODO ADD joker\n  // TODO ADD AI\n  // TODO state service instead of this.state -- this is on wip-stateService but doesn't work because to update the UI you need to update the state\n\n  render = () => {\n    return (\n      <React.Fragment>\n  <div className={classNames('CardTable', {'CardTableGame': this.state.AppMode !== AppMode.START_STATE})}>\n    <h2 className=\"startHeader\" data-testid=\"start-header\">\n      Straight 5\n    </h2>\n    {this.state.AppMode === AppMode.START_STATE &&\n    <React.Fragment>\n        <RulesSection/>\n        <div className=\"mb-4 mt-2\">\n          <button className=\"small-width-button\" onClick={this.StartNewGame}>Start New Game</button>\n        </div>\n\n    </React.Fragment>}\n\n    {this.state.AppMode  === AppMode.GAME &&\n    <React.Fragment>\n      <Hand gameService={this.gameService} moveState={this.state.MoveState} playerService={this.playerService} id={0} cardPressedCallback={this.handlePlayerCardPressed} />\n      <MiddleSection gameService={this.gameService} drawCallback={this.deckAndDiscardPressed} moveState={this.state.MoveState}/>\n      <Hand gameService={this.gameService} moveState={this.state.MoveState} playerService={this.playerService} id={1} cardPressedCallback={this.handlePlayerCardPressed} />\n    </React.Fragment>}\n\n    {this.state.AppMode === AppMode.PLAYER_WIN &&\n    <React.Fragment>\n        <div className=\"mb-4\" data-testid=\"win-header\">\n        Congratulations to Player {this.gameState.getActivePlayerIndex()+1}\n        <button data-testid=\"win-startNewGame\" className=\"mt-2\" onClick={this.StartNewGame}>Start a new Game</button>\n        </div>\n    </React.Fragment>}\n  </div>\n    {this.state.AppMode  === AppMode.GAME && <NewstickerSection gameState={this.gameState} moveState={this.state.MoveState}/>}\n    {this.state.AppMode  === AppMode.GAME && <FooterSection gameService={this.gameService} moveState={this.state.MoveState} tokenService={this.tokenService} buttonPressedCallback={this.handleActionButtonPressed} />}\n  </React.Fragment>\n  )}\n}\n\nexport default Straight5;\n","import React from 'react';\nimport './App.css';\nimport Straight5 from './components/Straight5.js';\nconst { GameState } = require('./model/GameState.js')\nconst { GameService } = require('./service/GameService.js')\nconst { PlayerService } = require('./service/PlayerService.js')\nconst { ConfigService } = require('./service/ConfigService.js')\nconst { TokenService } = require('./service/TokenService.js')\n\nfunction App() {\n  const configService = new ConfigService(6, 9, 2, 3);\n  const playerService = new PlayerService(configService)\n  const tokenService = new TokenService();\n  const gameState = new GameState();\n  const gameService = new GameService(playerService, tokenService, configService, gameState);\n  return (\n    <div className=\"App\">\n      <header>\n      <div className=\"Container\">\n\n        <Straight5 playerService={playerService} gameService={gameService} configService={configService} tokenService={tokenService} gameState={gameState}></Straight5>\n        </div>\n      </header>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}